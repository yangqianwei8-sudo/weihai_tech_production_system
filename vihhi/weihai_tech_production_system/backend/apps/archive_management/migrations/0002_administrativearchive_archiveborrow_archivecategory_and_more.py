# Generated by Django 4.2.7 on 2025-12-07 02:23

import backend.apps.archive_management.models
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        ('delivery_customer', '0003_alter_deliveryrecord_project_and_more'),
        ('production_management', '0004_create_design_stage_model'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('system_management', '0008_delete_permissionitem'),
        ('archive_management', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='AdministrativeArchive',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archive_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='档案编号')),
                ('archive_name', models.CharField(max_length=200, verbose_name='档案名称')),
                ('archive_date', models.DateField(default=django.utils.timezone.now, verbose_name='归档日期')),
                ('description', models.TextField(blank=True, verbose_name='档案描述')),
                ('security_level', models.CharField(choices=[('public', '公开'), ('internal', '内部'), ('confidential', '机密'), ('secret', '秘密')], default='internal', max_length=20, verbose_name='密级')),
                ('storage_period', models.IntegerField(default=10, verbose_name='保管期限(年)')),
                ('files', models.JSONField(blank=True, default=list, verbose_name='档案文件')),
                ('cataloging_info', models.JSONField(blank=True, default=dict, verbose_name='著录信息')),
                ('status', models.CharField(choices=[('pending', '待归档'), ('approving', '归档审批中'), ('archived', '已归档'), ('borrowed', '已借出'), ('destroyed', '已销毁'), ('rejected', '归档驳回')], default='pending', max_length=20, verbose_name='档案状态')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '行政档案',
                'verbose_name_plural': '行政档案',
                'db_table': 'administrative_archive',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveBorrow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('borrow_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='借阅单号')),
                ('borrow_reason', models.TextField(verbose_name='借阅事由')),
                ('borrow_date', models.DateField(default=django.utils.timezone.now, verbose_name='借阅日期')),
                ('return_date', models.DateField(verbose_name='归还日期')),
                ('borrow_purpose', models.CharField(blank=True, max_length=200, verbose_name='借阅用途')),
                ('borrow_method', models.CharField(choices=[('onsite', '现场查阅'), ('borrow', '借出'), ('copy', '复印'), ('scan', '扫描')], default='onsite', max_length=20, verbose_name='借阅方式')),
                ('status', models.CharField(choices=[('pending', '待审批'), ('approving', '审批中'), ('approved', '已批准'), ('out', '已出库'), ('returned', '已归还'), ('rejected', '已拒绝'), ('overdue', '已逾期')], default='pending', max_length=20, verbose_name='借阅状态')),
                ('approved_time', models.DateTimeField(blank=True, null=True, verbose_name='审批时间')),
                ('approval_opinion', models.TextField(blank=True, verbose_name='审批意见')),
                ('out_time', models.DateTimeField(blank=True, null=True, verbose_name='出库时间')),
                ('returned_time', models.DateTimeField(blank=True, null=True, verbose_name='归还时间')),
                ('return_status', models.CharField(blank=True, help_text='完好/损坏/缺失', max_length=50, verbose_name='归还状态')),
                ('return_notes', models.TextField(blank=True, verbose_name='归还备注')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案借阅',
                'verbose_name_plural': '档案借阅',
                'db_table': 'archive_borrow',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='分类名称')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='分类代码')),
                ('category_type', models.CharField(choices=[('project', '项目档案分类'), ('administrative', '行政档案分类')], max_length=20, verbose_name='分类类型')),
                ('description', models.TextField(blank=True, verbose_name='分类描述')),
                ('order', models.IntegerField(default=0, verbose_name='排序')),
                ('icon', models.CharField(blank=True, max_length=50, verbose_name='图标')),
                ('storage_period', models.IntegerField(default=10, help_text='单位：年', verbose_name='保管期限(年)')),
                ('security_level', models.CharField(choices=[('public', '公开'), ('internal', '内部'), ('confidential', '机密'), ('secret', '秘密')], default='internal', max_length=20, verbose_name='密级')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案分类',
                'verbose_name_plural': '档案分类',
                'db_table': 'archive_category',
                'ordering': ['category_type', 'order', 'id'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveCategoryRule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='规则名称')),
                ('rule_type', models.CharField(choices=[('auto', '自动分类规则'), ('manual', '手动分类规则')], default='auto', max_length=20, verbose_name='规则类型')),
                ('priority', models.IntegerField(default=0, help_text='数字越大优先级越高', verbose_name='优先级')),
                ('rule_expression', models.TextField(help_text='支持JSON格式的规则表达式', verbose_name='规则表达式')),
                ('rule_conditions', models.JSONField(blank=True, default=dict, help_text='规则条件配置', verbose_name='规则条件')),
                ('description', models.TextField(blank=True, verbose_name='规则描述')),
                ('status', models.CharField(choices=[('active', '启用'), ('inactive', '停用'), ('testing', '测试中')], default='active', max_length=20, verbose_name='规则状态')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案分类规则',
                'verbose_name_plural': '档案分类规则',
                'db_table': 'archive_category_rule',
                'ordering': ['-priority', '-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveDestroy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('destroy_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='销毁单号')),
                ('destroy_reason', models.TextField(verbose_name='销毁原因')),
                ('destroy_date', models.DateField(default=django.utils.timezone.now, verbose_name='销毁日期')),
                ('destroy_method', models.CharField(choices=[('shred', '粉碎'), ('burn', '焚烧'), ('delete', '删除'), ('other', '其他')], default='shred', max_length=20, verbose_name='销毁方式')),
                ('destroy_basis', models.CharField(blank=True, max_length=500, verbose_name='销毁依据')),
                ('status', models.CharField(choices=[('pending', '待审批'), ('approving', '审批中'), ('approved', '已批准'), ('destroyed', '已销毁'), ('rejected', '已拒绝')], default='pending', max_length=20, verbose_name='销毁状态')),
                ('approved_time', models.DateTimeField(blank=True, null=True, verbose_name='审批时间')),
                ('approval_opinion', models.TextField(blank=True, verbose_name='审批意见')),
                ('destroyed_time', models.DateTimeField(blank=True, null=True, verbose_name='销毁时间')),
                ('destroy_record', models.TextField(blank=True, verbose_name='销毁记录')),
                ('destroy_proof', models.ImageField(blank=True, upload_to='archive_destroy_proofs/', verbose_name='销毁证明')),
                ('destroy_photos', models.JSONField(blank=True, default=list, verbose_name='销毁照片')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案销毁',
                'verbose_name_plural': '档案销毁',
                'db_table': 'archive_destroy',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveDigitizationApply',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('apply_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='申请编号')),
                ('digitization_type', models.CharField(choices=[('scan', '扫描'), ('ocr', 'OCR识别'), ('format_convert', '格式转换'), ('video_convert', '视频转换'), ('audio_convert', '音频转换'), ('other', '其他')], max_length=30, verbose_name='数字化类型')),
                ('priority', models.CharField(choices=[('low', '低'), ('normal', '普通'), ('high', '高'), ('urgent', '紧急')], default='normal', max_length=20, verbose_name='优先级')),
                ('apply_reason', models.TextField(blank=True, verbose_name='申请原因')),
                ('apply_description', models.TextField(blank=True, verbose_name='申请说明')),
                ('applied_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='申请时间')),
                ('approved_time', models.DateTimeField(blank=True, null=True, verbose_name='审批时间')),
                ('approval_opinion', models.TextField(blank=True, verbose_name='审批意见')),
                ('status', models.CharField(choices=[('pending', '待审批'), ('approved', '已批准'), ('rejected', '已驳回'), ('processing', '处理中'), ('completed', '已完成'), ('cancelled', '已取消')], default='pending', max_length=20, verbose_name='申请状态')),
                ('process_start_time', models.DateTimeField(blank=True, null=True, verbose_name='处理开始时间')),
                ('process_end_time', models.DateTimeField(blank=True, null=True, verbose_name='处理结束时间')),
                ('extra_data', models.JSONField(blank=True, default=dict, verbose_name='额外信息')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案数字化申请',
                'verbose_name_plural': '档案数字化申请',
                'db_table': 'archive_digitization_apply',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveDigitizationProcess',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('process_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='处理编号')),
                ('process_start_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='处理开始时间')),
                ('process_end_time', models.DateTimeField(blank=True, null=True, verbose_name='处理结束时间')),
                ('status', models.CharField(choices=[('pending', '待处理'), ('processing', '处理中'), ('quality_check', '质量检查中'), ('completed', '已完成'), ('failed', '处理失败'), ('cancelled', '已取消')], default='pending', max_length=20, verbose_name='处理状态')),
                ('process_description', models.TextField(blank=True, verbose_name='处理说明')),
                ('process_notes', models.TextField(blank=True, verbose_name='处理备注')),
                ('quality_check_time', models.DateTimeField(blank=True, null=True, verbose_name='质量检查时间')),
                ('quality_check_result', models.CharField(choices=[('passed', '通过'), ('failed', '不通过'), ('pending', '待检查')], default='pending', max_length=20, verbose_name='质量检查结果')),
                ('quality_check_notes', models.TextField(blank=True, verbose_name='质量检查备注')),
                ('progress', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)], verbose_name='处理进度')),
                ('process_files', models.JSONField(blank=True, default=list, verbose_name='处理文件列表')),
                ('extra_data', models.JSONField(blank=True, default=dict, verbose_name='额外信息')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案数字化处理',
                'verbose_name_plural': '档案数字化处理',
                'db_table': 'archive_digitization_process',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveDigitizationResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('result_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='成果编号')),
                ('result_name', models.CharField(max_length=200, verbose_name='成果名称')),
                ('result_description', models.TextField(blank=True, verbose_name='成果说明')),
                ('result_type', models.CharField(blank=True, max_length=50, verbose_name='成果类型')),
                ('result_file', models.FileField(blank=True, null=True, upload_to='archive_digitization/%Y/%m/', verbose_name='成果文件')),
                ('file_size', models.BigIntegerField(blank=True, null=True, verbose_name='文件大小（字节）')),
                ('file_format', models.CharField(blank=True, max_length=50, verbose_name='文件格式')),
                ('metadata', models.JSONField(blank=True, default=dict, verbose_name='元数据')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案数字化成果',
                'verbose_name_plural': '档案数字化成果',
                'db_table': 'archive_digitization_result',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveInventory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inventory_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='盘点单号')),
                ('inventory_name', models.CharField(max_length=200, verbose_name='盘点名称')),
                ('inventory_type', models.CharField(choices=[('full', '全面盘点'), ('sample', '抽样盘点'), ('key', '重点盘点')], default='full', max_length=20, verbose_name='盘点方式')),
                ('inventory_date', models.DateField(default=django.utils.timezone.now, verbose_name='盘点日期')),
                ('date_range_start', models.DateField(blank=True, null=True, verbose_name='日期范围开始')),
                ('date_range_end', models.DateField(blank=True, null=True, verbose_name='日期范围结束')),
                ('total_count', models.IntegerField(default=0, verbose_name='应盘数量')),
                ('actual_count', models.IntegerField(default=0, verbose_name='实盘数量')),
                ('difference_count', models.IntegerField(default=0, verbose_name='差异数量')),
                ('difference_details', models.JSONField(blank=True, default=list, verbose_name='差异明细')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案盘点',
                'verbose_name_plural': '档案盘点',
                'db_table': 'archive_inventory',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveLocation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('location_number', models.CharField(max_length=50, verbose_name='位置编号')),
                ('location_name', models.CharField(max_length=200, verbose_name='位置名称')),
                ('location_type', models.CharField(choices=[('shelf', '架位'), ('cabinet', '柜位'), ('box', '箱位'), ('other', '其他')], default='shelf', max_length=20, verbose_name='位置类型')),
                ('capacity', models.IntegerField(blank=True, null=True, verbose_name='位置容量(卷)')),
                ('description', models.TextField(blank=True, verbose_name='位置描述')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案位置',
                'verbose_name_plural': '档案位置',
                'db_table': 'archive_location',
                'ordering': ['storage_room', 'location_number'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveOperationLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('operation_type', models.CharField(choices=[('upload', '上传'), ('download', '下载'), ('edit', '编辑'), ('delete', '删除'), ('archive', '归档'), ('borrow', '借阅'), ('return', '归还'), ('destroy', '销毁'), ('move', '移动'), ('copy', '复制'), ('view', '查看'), ('approve', '审批'), ('reject', '驳回')], max_length=20, verbose_name='操作类型')),
                ('operation_time', models.DateTimeField(db_index=True, default=django.utils.timezone.now, verbose_name='操作时间')),
                ('operation_content', models.TextField(blank=True, verbose_name='操作内容')),
                ('operation_result', models.CharField(choices=[('success', '成功'), ('failed', '失败'), ('pending', '待处理')], default='success', max_length=20, verbose_name='操作结果')),
                ('error_message', models.TextField(blank=True, verbose_name='错误信息')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='IP地址')),
                ('user_agent', models.CharField(blank=True, max_length=500, verbose_name='用户代理')),
                ('extra_data', models.JSONField(blank=True, default=dict, verbose_name='额外信息')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
            ],
            options={
                'verbose_name': '档案操作日志',
                'verbose_name_plural': '档案操作日志',
                'db_table': 'archive_operation_log',
                'ordering': ['-operation_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchivePushRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('push_status', models.CharField(choices=[('pending', '待推送'), ('success', '推送成功'), ('failed', '推送失败'), ('retrying', '重试中')], default='pending', max_length=20, verbose_name='推送状态')),
                ('push_time', models.DateTimeField(blank=True, null=True, verbose_name='推送时间')),
                ('receive_time', models.DateTimeField(blank=True, null=True, verbose_name='接收时间')),
                ('error_message', models.TextField(blank=True, verbose_name='错误信息')),
                ('retry_count', models.IntegerField(default=0, verbose_name='重试次数')),
                ('pushed_files', models.JSONField(blank=True, default=list, verbose_name='推送文件列表')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '交付推送记录',
                'verbose_name_plural': '交付推送记录',
                'db_table': 'archive_push_record',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveSearchHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('search_type', models.CharField(choices=[('fulltext', '全文检索'), ('advanced', '高级检索'), ('simple', '简单检索')], default='simple', max_length=20, verbose_name='检索类型')),
                ('search_keyword', models.CharField(blank=True, max_length=500, verbose_name='检索关键词')),
                ('search_conditions', models.JSONField(blank=True, default=dict, help_text='高级检索的条件配置', verbose_name='检索条件')),
                ('search_range', models.CharField(blank=True, help_text='检索的档案类型范围', max_length=100, verbose_name='检索范围')),
                ('result_count', models.IntegerField(default=0, verbose_name='结果数量')),
                ('search_time', models.DateTimeField(db_index=True, default=django.utils.timezone.now, verbose_name='检索时间')),
                ('search_duration', models.FloatField(blank=True, null=True, verbose_name='检索耗时(秒)')),
                ('result_snapshot', models.JSONField(blank=True, default=list, verbose_name='结果快照')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
            ],
            options={
                'verbose_name': '档案检索历史',
                'verbose_name_plural': '档案检索历史',
                'db_table': 'archive_search_history',
                'ordering': ['-search_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveShelf',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('shelf_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='上架时间')),
                ('notes', models.TextField(blank=True, verbose_name='备注')),
            ],
            options={
                'verbose_name': '档案上架记录',
                'verbose_name_plural': '档案上架记录',
                'db_table': 'archive_shelf',
                'ordering': ['-shelf_time'],
            },
        ),
        migrations.CreateModel(
            name='ArchiveStorageRoom',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('room_number', models.CharField(max_length=50, unique=True, verbose_name='库房编号')),
                ('room_name', models.CharField(max_length=200, verbose_name='库房名称')),
                ('location', models.CharField(max_length=500, verbose_name='库房位置')),
                ('area', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='库房面积(平方米)')),
                ('capacity', models.IntegerField(blank=True, null=True, verbose_name='库房容量(卷)')),
                ('description', models.TextField(blank=True, verbose_name='库房描述')),
                ('status', models.CharField(choices=[('active', '启用'), ('inactive', '停用'), ('maintenance', '维护中')], default='active', max_length=20, verbose_name='库房状态')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '档案库房',
                'verbose_name_plural': '档案库房',
                'db_table': 'archive_storage_room',
                'ordering': ['room_number'],
            },
        ),
        migrations.CreateModel(
            name='ProjectArchiveDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('document_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='文档编号')),
                ('document_name', models.CharField(max_length=200, verbose_name='文档名称')),
                ('document_type', models.CharField(choices=[('project_doc', '项目文档'), ('drawing', '图纸'), ('delivery_file', '交付文件'), ('process_file', '过程文件'), ('other', '其他')], max_length=20, verbose_name='文档类型')),
                ('file', models.FileField(max_length=500, upload_to=backend.apps.archive_management.models.archive_file_upload_path, validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['pdf', 'doc', 'docx', 'xls', 'xlsx', 'ppt', 'pptx', 'dwg', 'dgn', 'jpg', 'jpeg', 'png', 'zip', 'rar', '7z'])], verbose_name='文件')),
                ('file_name', models.CharField(max_length=255, verbose_name='原始文件名')),
                ('file_size', models.BigIntegerField(verbose_name='文件大小(字节)')),
                ('file_extension', models.CharField(blank=True, max_length=20, verbose_name='文件扩展名')),
                ('mime_type', models.CharField(blank=True, max_length=100, verbose_name='MIME类型')),
                ('description', models.TextField(blank=True, verbose_name='文档描述')),
                ('tags', models.CharField(blank=True, help_text='多个标签用逗号分隔', max_length=500, verbose_name='标签')),
                ('security_level', models.CharField(choices=[('public', '公开'), ('internal', '内部'), ('confidential', '机密'), ('secret', '秘密')], default='internal', max_length=20, verbose_name='密级')),
                ('version', models.CharField(default='1.0', max_length=50, verbose_name='版本号')),
                ('status', models.CharField(choices=[('draft', '草稿'), ('pending_archive', '待归档'), ('archived', '已归档'), ('borrowed', '已借出')], default='draft', max_length=20, verbose_name='文档状态')),
                ('uploaded_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='上传时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '项目档案文档',
                'verbose_name_plural': '项目档案文档',
                'db_table': 'project_archive_document',
                'ordering': ['-uploaded_time'],
            },
        ),
        migrations.CreateModel(
            name='ProjectDeliveryArchive',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archive_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='归档编号')),
                ('archive_reason', models.TextField(blank=True, verbose_name='归档原因')),
                ('archive_description', models.TextField(blank=True, verbose_name='归档说明')),
                ('status', models.CharField(choices=[('pending', '待归档'), ('approving', '归档审批中'), ('archiving', '归档执行中'), ('archived', '已归档'), ('rejected', '归档驳回')], default='pending', max_length=20, verbose_name='归档状态')),
                ('applied_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='申请时间')),
                ('executed_time', models.DateTimeField(blank=True, null=True, verbose_name='执行时间')),
                ('confirmed_time', models.DateTimeField(blank=True, null=True, verbose_name='确认时间')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '交付归档（手动）',
                'verbose_name_plural': '交付归档（手动）',
                'db_table': 'archive_project_delivery_archive',
                'ordering': ['-created_time'],
            },
        ),
        migrations.CreateModel(
            name='ProjectDrawingArchive',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archive_number', models.CharField(db_index=True, max_length=100, unique=True, verbose_name='归档编号')),
                ('archive_type', models.CharField(choices=[('all', '全部图纸'), ('submission', '按提交归档'), ('category', '按分类归档'), ('custom', '自定义选择')], default='all', max_length=20, verbose_name='归档类型')),
                ('archive_reason', models.TextField(blank=True, verbose_name='归档原因')),
                ('archive_description', models.TextField(blank=True, verbose_name='归档说明')),
                ('status', models.CharField(choices=[('pending', '待归档'), ('approving', '归档审批中'), ('archiving', '归档执行中'), ('archived', '已归档'), ('rejected', '归档驳回')], default='pending', max_length=20, verbose_name='归档状态')),
                ('drawing_submission_ids', models.JSONField(blank=True, default=list, verbose_name='图纸提交ID列表')),
                ('drawing_file_ids', models.JSONField(blank=True, default=list, verbose_name='图纸文件ID列表')),
                ('applied_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='申请时间')),
                ('executed_time', models.DateTimeField(blank=True, null=True, verbose_name='执行时间')),
                ('confirmed_time', models.DateTimeField(blank=True, null=True, verbose_name='确认时间')),
                ('created_time', models.DateTimeField(default=django.utils.timezone.now, verbose_name='创建时间')),
                ('updated_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '项目图纸归档',
                'verbose_name_plural': '项目图纸归档',
                'db_table': 'archive_project_drawing_archive',
                'ordering': ['-created_time'],
            },
        ),
        migrations.RenameIndex(
            model_name='archiveprojectarchive',
            new_name='archive_pro_project_2c9c58_idx',
            old_name='archive_pro_project_status_idx',
        ),
        migrations.RenameIndex(
            model_name='archiveprojectarchive',
            new_name='archive_pro_archive_65a6ab_idx',
            old_name='archive_pro_archive_idx',
        ),
        migrations.RenameIndex(
            model_name='archiveprojectarchive',
            new_name='archive_pro_status_f91cca_idx',
            old_name='archive_pro_status_created_idx',
        ),
        migrations.AlterField(
            model_name='archiveprojectarchive',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='archive_records', to='production_management.project', verbose_name='关联项目'),
        ),
        migrations.AddField(
            model_name='projectdrawingarchive',
            name='applicant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='applied_drawing_archives', to=settings.AUTH_USER_MODEL, verbose_name='归档申请人'),
        ),
        migrations.AddField(
            model_name='projectdrawingarchive',
            name='category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='drawing_archives', to='archive_management.archivecategory', verbose_name='归档分类'),
        ),
        migrations.AddField(
            model_name='projectdrawingarchive',
            name='confirmed_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='confirmed_drawing_archives', to=settings.AUTH_USER_MODEL, verbose_name='确认人'),
        ),
        migrations.AddField(
            model_name='projectdrawingarchive',
            name='executor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='executed_drawing_archives', to=settings.AUTH_USER_MODEL, verbose_name='归档执行人'),
        ),
        migrations.AddField(
            model_name='projectdrawingarchive',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='drawing_archives', to='production_management.project', verbose_name='关联项目'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='applicant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='applied_delivery_archives', to=settings.AUTH_USER_MODEL, verbose_name='归档申请人'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery_archives', to='archive_management.archivecategory', verbose_name='归档分类'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='confirmed_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='confirmed_delivery_archives', to=settings.AUTH_USER_MODEL, verbose_name='确认人'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='delivery_record',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='manual_archive_records', to='delivery_customer.deliveryrecord', verbose_name='交付记录'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='executor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='executed_delivery_archives', to=settings.AUTH_USER_MODEL, verbose_name='归档执行人'),
        ),
        migrations.AddField(
            model_name='projectdeliveryarchive',
            name='project',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery_archives', to='production_management.project', verbose_name='关联项目'),
        ),
        migrations.AddField(
            model_name='projectarchivedocument',
            name='category',
            field=models.ForeignKey(blank=True, limit_choices_to={'category_type': 'project'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='project_documents', to='archive_management.archivecategory', verbose_name='档案分类'),
        ),
        migrations.AddField(
            model_name='projectarchivedocument',
            name='parent_version',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='child_versions', to='archive_management.projectarchivedocument', verbose_name='父版本'),
        ),
        migrations.AddField(
            model_name='projectarchivedocument',
            name='project',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='archive_documents', to='production_management.project', verbose_name='关联项目'),
        ),
        migrations.AddField(
            model_name='projectarchivedocument',
            name='project_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='documents', to='archive_management.archiveprojectarchive', verbose_name='项目归档记录'),
        ),
        migrations.AddField(
            model_name='projectarchivedocument',
            name='uploaded_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='uploaded_project_documents', to=settings.AUTH_USER_MODEL, verbose_name='上传人'),
        ),
        migrations.AddField(
            model_name='archivestorageroom',
            name='manager',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_storage_rooms', to=settings.AUTH_USER_MODEL, verbose_name='库房负责人'),
        ),
        migrations.AddField(
            model_name='archiveshelf',
            name='archive',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shelf_records', to='archive_management.administrativearchive', verbose_name='档案'),
        ),
        migrations.AddField(
            model_name='archiveshelf',
            name='location',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shelf_records', to='archive_management.archivelocation', verbose_name='位置'),
        ),
        migrations.AddField(
            model_name='archiveshelf',
            name='shelf_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='shelved_archives', to=settings.AUTH_USER_MODEL, verbose_name='上架人'),
        ),
        migrations.AddField(
            model_name='archivesearchhistory',
            name='searcher',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='archive_search_histories', to=settings.AUTH_USER_MODEL, verbose_name='检索人'),
        ),
        migrations.AddField(
            model_name='archivepushrecord',
            name='delivery_record',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='archive_push_records', to='delivery_customer.deliveryrecord', verbose_name='交付记录'),
        ),
        migrations.AddField(
            model_name='archivepushrecord',
            name='project',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archive_push_records', to='production_management.project', verbose_name='关联项目'),
        ),
        migrations.AddField(
            model_name='archiveoperationlog',
            name='administrative_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operation_logs', to='archive_management.administrativearchive', verbose_name='行政档案'),
        ),
        migrations.AddField(
            model_name='archiveoperationlog',
            name='borrow_record',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operation_logs', to='archive_management.archiveborrow', verbose_name='借阅记录'),
        ),
        migrations.AddField(
            model_name='archiveoperationlog',
            name='operator',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archive_operations', to=settings.AUTH_USER_MODEL, verbose_name='操作人'),
        ),
        migrations.AddField(
            model_name='archiveoperationlog',
            name='project_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operation_logs', to='archive_management.archiveprojectarchive', verbose_name='项目归档'),
        ),
        migrations.AddField(
            model_name='archiveoperationlog',
            name='project_document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operation_logs', to='archive_management.projectarchivedocument', verbose_name='项目文档'),
        ),
        migrations.AddField(
            model_name='archivelocation',
            name='storage_room',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='locations', to='archive_management.archivestorageroom', verbose_name='所属库房'),
        ),
        migrations.AddField(
            model_name='archiveinventory',
            name='category',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inventories', to='archive_management.archivecategory', verbose_name='分类'),
        ),
        migrations.AddField(
            model_name='archiveinventory',
            name='inventory_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='inventoried_archives', to=settings.AUTH_USER_MODEL, verbose_name='盘点人'),
        ),
        migrations.AddField(
            model_name='archiveinventory',
            name='storage_room',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inventories', to='archive_management.archivestorageroom', verbose_name='库房'),
        ),
        migrations.AddField(
            model_name='archivedigitizationresult',
            name='administrative_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='digitization_results', to='archive_management.administrativearchive', verbose_name='行政档案'),
        ),
        migrations.AddField(
            model_name='archivedigitizationresult',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_digitization_results', to=settings.AUTH_USER_MODEL, verbose_name='创建人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationresult',
            name='process',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='archive_management.archivedigitizationprocess', verbose_name='数字化处理'),
        ),
        migrations.AddField(
            model_name='archivedigitizationresult',
            name='project_document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='digitization_results', to='archive_management.projectarchivedocument', verbose_name='项目文档'),
        ),
        migrations.AddField(
            model_name='archivedigitizationprocess',
            name='apply',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='processes', to='archive_management.archivedigitizationapply', verbose_name='数字化申请'),
        ),
        migrations.AddField(
            model_name='archivedigitizationprocess',
            name='processor',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='digitization_processes', to=settings.AUTH_USER_MODEL, verbose_name='处理人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationprocess',
            name='quality_checker',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='checked_digitization_processes', to=settings.AUTH_USER_MODEL, verbose_name='质量检查人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationapply',
            name='administrative_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='digitization_applies', to='archive_management.administrativearchive', verbose_name='行政档案'),
        ),
        migrations.AddField(
            model_name='archivedigitizationapply',
            name='applicant',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='digitization_applies', to=settings.AUTH_USER_MODEL, verbose_name='申请人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationapply',
            name='approver',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_digitization_applies', to=settings.AUTH_USER_MODEL, verbose_name='审批人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationapply',
            name='processor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='processed_digitization_applies', to=settings.AUTH_USER_MODEL, verbose_name='处理人'),
        ),
        migrations.AddField(
            model_name='archivedigitizationapply',
            name='project_document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='digitization_applies', to='archive_management.projectarchivedocument', verbose_name='项目文档'),
        ),
        migrations.AddField(
            model_name='archivedestroy',
            name='administrative_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='destroys', to='archive_management.administrativearchive', verbose_name='行政档案'),
        ),
        migrations.AddField(
            model_name='archivedestroy',
            name='approver',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_destroys', to=settings.AUTH_USER_MODEL, verbose_name='审批人'),
        ),
        migrations.AddField(
            model_name='archivedestroy',
            name='destroyer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='destroyed_archives', to=settings.AUTH_USER_MODEL, verbose_name='销毁人'),
        ),
        migrations.AddField(
            model_name='archivedestroy',
            name='project_document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='destroys', to='archive_management.projectarchivedocument', verbose_name='项目档案文档'),
        ),
        migrations.AddField(
            model_name='archivecategoryrule',
            name='category',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rules', to='archive_management.archivecategory', verbose_name='目标分类'),
        ),
        migrations.AddField(
            model_name='archivecategoryrule',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='created_category_rules', to=settings.AUTH_USER_MODEL, verbose_name='创建人'),
        ),
        migrations.AddField(
            model_name='archivecategory',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='created_archive_categories', to=settings.AUTH_USER_MODEL, verbose_name='创建人'),
        ),
        migrations.AddField(
            model_name='archivecategory',
            name='parent',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='archive_management.archivecategory', verbose_name='上级分类'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='administrative_archive',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='borrows', to='archive_management.administrativearchive', verbose_name='行政档案'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='approver',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_borrows', to=settings.AUTH_USER_MODEL, verbose_name='审批人'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='borrower',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='borrowed_archives', to=settings.AUTH_USER_MODEL, verbose_name='借阅人'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='borrower_department',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='borrowed_archives', to='system_management.department', verbose_name='借阅部门'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='out_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='out_archives', to=settings.AUTH_USER_MODEL, verbose_name='出库人'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='project_document',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='borrows', to='archive_management.projectarchivedocument', verbose_name='项目档案文档'),
        ),
        migrations.AddField(
            model_name='archiveborrow',
            name='returned_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='returned_archives', to=settings.AUTH_USER_MODEL, verbose_name='归还人'),
        ),
        migrations.AddField(
            model_name='administrativearchive',
            name='archive_department',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archives', to='system_management.department', verbose_name='归档部门'),
        ),
        migrations.AddField(
            model_name='administrativearchive',
            name='archivist',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='archived_administrative_archives', to=settings.AUTH_USER_MODEL, verbose_name='归档人'),
        ),
        migrations.AddField(
            model_name='administrativearchive',
            name='category',
            field=models.ForeignKey(blank=True, limit_choices_to={'category_type': 'administrative'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='administrative_archives', to='archive_management.archivecategory', verbose_name='档案分类'),
        ),
        migrations.AddField(
            model_name='administrativearchive',
            name='location',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archives', to='archive_management.archivelocation', verbose_name='位置'),
        ),
        migrations.AddField(
            model_name='administrativearchive',
            name='storage_room',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='archives', to='archive_management.archivestorageroom', verbose_name='库房'),
        ),
        migrations.AddIndex(
            model_name='projectdrawingarchive',
            index=models.Index(fields=['project', 'status'], name='archive_pro_project_cf722e_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdrawingarchive',
            index=models.Index(fields=['archive_number'], name='archive_pro_archive_8ff7b9_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdrawingarchive',
            index=models.Index(fields=['status', '-created_time'], name='archive_pro_status_100dfe_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdeliveryarchive',
            index=models.Index(fields=['delivery_record', 'status'], name='archive_pro_deliver_50e017_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdeliveryarchive',
            index=models.Index(fields=['project', 'status'], name='archive_pro_project_d268dd_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdeliveryarchive',
            index=models.Index(fields=['archive_number'], name='archive_pro_archive_c4fba8_idx'),
        ),
        migrations.AddIndex(
            model_name='projectdeliveryarchive',
            index=models.Index(fields=['status', '-created_time'], name='archive_pro_status_94dace_idx'),
        ),
        migrations.AddIndex(
            model_name='projectarchivedocument',
            index=models.Index(fields=['project', 'status'], name='project_arc_project_154ef6_idx'),
        ),
        migrations.AddIndex(
            model_name='projectarchivedocument',
            index=models.Index(fields=['category', 'status'], name='project_arc_categor_dcf0cc_idx'),
        ),
        migrations.AddIndex(
            model_name='projectarchivedocument',
            index=models.Index(fields=['document_number'], name='project_arc_documen_344daf_idx'),
        ),
        migrations.AddIndex(
            model_name='archivestorageroom',
            index=models.Index(fields=['status'], name='archive_sto_status_af6390_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveshelf',
            index=models.Index(fields=['archive', 'location'], name='archive_she_archive_46acbd_idx'),
        ),
        migrations.AddIndex(
            model_name='archivesearchhistory',
            index=models.Index(fields=['searcher', 'search_time'], name='archive_sea_searche_d1eda7_idx'),
        ),
        migrations.AddIndex(
            model_name='archivesearchhistory',
            index=models.Index(fields=['search_type', 'search_time'], name='archive_sea_search__c412e4_idx'),
        ),
        migrations.AddIndex(
            model_name='archivepushrecord',
            index=models.Index(fields=['delivery_record', 'push_status'], name='archive_pus_deliver_c547c7_idx'),
        ),
        migrations.AddIndex(
            model_name='archivepushrecord',
            index=models.Index(fields=['project', 'push_status'], name='archive_pus_project_b6806d_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveoperationlog',
            index=models.Index(fields=['operation_type', 'operation_time'], name='archive_ope_operati_94e50b_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveoperationlog',
            index=models.Index(fields=['operator', 'operation_time'], name='archive_ope_operato_6f704c_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveoperationlog',
            index=models.Index(fields=['operation_result', 'operation_time'], name='archive_ope_operati_400d68_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveoperationlog',
            index=models.Index(fields=['project_document', 'operation_time'], name='archive_ope_project_76a74a_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveoperationlog',
            index=models.Index(fields=['administrative_archive', 'operation_time'], name='archive_ope_adminis_c6ccab_idx'),
        ),
        migrations.AddIndex(
            model_name='archivelocation',
            index=models.Index(fields=['storage_room', 'location_type'], name='archive_loc_storage_116bf1_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='archivelocation',
            unique_together={('storage_room', 'location_number')},
        ),
        migrations.AddIndex(
            model_name='archiveinventory',
            index=models.Index(fields=['inventory_number'], name='archive_inv_invento_1811d9_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveinventory',
            index=models.Index(fields=['inventory_date'], name='archive_inv_invento_6da6de_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationresult',
            index=models.Index(fields=['process', '-created_time'], name='archive_dig_process_b2539a_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationresult',
            index=models.Index(fields=['result_type', '-created_time'], name='archive_dig_result__d384d7_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationprocess',
            index=models.Index(fields=['apply', 'status'], name='archive_dig_apply_i_fa0dac_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationprocess',
            index=models.Index(fields=['processor', '-created_time'], name='archive_dig_process_6632da_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationprocess',
            index=models.Index(fields=['status', '-created_time'], name='archive_dig_status_4e6c22_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationapply',
            index=models.Index(fields=['status', '-created_time'], name='archive_dig_status_52ff43_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationapply',
            index=models.Index(fields=['applicant', '-created_time'], name='archive_dig_applica_7f4c60_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedigitizationapply',
            index=models.Index(fields=['digitization_type', 'status'], name='archive_dig_digitiz_7b12fc_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedestroy',
            index=models.Index(fields=['destroyer', 'status'], name='archive_des_destroy_329af2_idx'),
        ),
        migrations.AddIndex(
            model_name='archivedestroy',
            index=models.Index(fields=['destroy_number'], name='archive_des_destroy_01271c_idx'),
        ),
        migrations.AddIndex(
            model_name='archivecategoryrule',
            index=models.Index(fields=['category', 'status'], name='archive_cat_categor_e71673_idx'),
        ),
        migrations.AddIndex(
            model_name='archivecategoryrule',
            index=models.Index(fields=['rule_type', 'is_active'], name='archive_cat_rule_ty_373c9a_idx'),
        ),
        migrations.AddIndex(
            model_name='archivecategory',
            index=models.Index(fields=['category_type', 'is_active'], name='archive_cat_categor_ce8bb3_idx'),
        ),
        migrations.AddIndex(
            model_name='archivecategory',
            index=models.Index(fields=['parent'], name='archive_cat_parent__b75f49_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveborrow',
            index=models.Index(fields=['borrower', 'status'], name='archive_bor_borrowe_85bdca_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveborrow',
            index=models.Index(fields=['borrow_number'], name='archive_bor_borrow__779d02_idx'),
        ),
        migrations.AddIndex(
            model_name='archiveborrow',
            index=models.Index(fields=['status', '-created_time'], name='archive_bor_status_ca4745_idx'),
        ),
        migrations.AddIndex(
            model_name='administrativearchive',
            index=models.Index(fields=['category', 'status'], name='administrat_categor_fb80ac_idx'),
        ),
        migrations.AddIndex(
            model_name='administrativearchive',
            index=models.Index(fields=['archive_number'], name='administrat_archive_763653_idx'),
        ),
        migrations.AddIndex(
            model_name='administrativearchive',
            index=models.Index(fields=['status', '-created_time'], name='administrat_status_033e77_idx'),
        ),
    ]
