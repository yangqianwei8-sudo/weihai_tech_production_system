/**
 * 表单组件样式
 * 维海科技信息化管理平台
 * 版本: 1.0
 * 
 * 包含：
 * - 表单字段布局（5列布局系统）
 * - 表单字段包装器
 * - 表单行容器
 * - 响应式设计
 */

/* ============================================
   表单字段布局系统
   ============================================ */

/* 5列字段行容器 */
.form-row-5 {
  display: flex;
  flex-wrap: wrap;
  margin-left: calc(var(--spacing-sm, 8px) * -0.5);
  margin-right: calc(var(--spacing-sm, 8px) * -0.5);
  margin-bottom: var(--spacing-md, 16px);
}

/* 5列字段（每列占20%） */
.col-5-fields {
  flex: 0 0 20%;
  max-width: 20%;
  min-width: 0;
  padding-left: calc(var(--spacing-sm, 8px) * 0.5);
  padding-right: calc(var(--spacing-sm, 8px) * 0.5);
  border-radius: 0;
  box-sizing: border-box;
}

/* 全宽字段（占整行） */
.col-12-fields {
  flex: 0 0 100%;
  max-width: 100%;
  padding-left: calc(var(--spacing-sm, 8px) * 0.5);
  padding-right: calc(var(--spacing-sm, 8px) * 0.5);
  border-radius: 0;
  box-sizing: border-box;
}

/* 表单字段包装器 */
.form-field-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  margin-bottom: var(--spacing-md, 16px);
}

/* 字段包装器内的标签样式 */
.form-field-wrapper .form-label {
  margin-bottom: var(--spacing-xs, 4px);
  font-weight: 500;
  color: var(--vh-text, #000000);
  font-size: var(--font-size-base, 14px);
}

/* 字段包装器内的表单控件 */
.form-field-wrapper .form-control,
.form-field-wrapper .form-select {
  width: 100%;
}

/* 字段包装器内的错误提示 */
.form-field-wrapper .text-danger {
  margin-top: var(--spacing-xs, 4px);
  font-size: var(--font-size-sm, 12px);
}

/* 字段包装器内的帮助文本 */
.form-field-wrapper .form-text {
  margin-top: var(--spacing-xs, 4px);
  font-size: var(--font-size-sm, 12px);
  color: var(--vh-text-muted, #666666);
}

/* ============================================
   响应式设计
   ============================================ */

/* 中等屏幕（≤992px）：3列布局 */
@media (max-width: 992px) {
  .col-5-fields {
    flex: 0 0 33.333333%;
    max-width: 33.333333%;
  }
  
  .form-row-5 {
    margin-left: calc(var(--spacing-sm, 8px) * -0.5);
    margin-right: calc(var(--spacing-sm, 8px) * -0.5);
  }
}

/* 小屏幕（≤768px）：2列布局 */
@media (max-width: 768px) {
  .col-5-fields {
    flex: 0 0 50%;
    max-width: 50%;
  }
  
  .form-field-wrapper {
    margin-bottom: var(--spacing-sm, 8px);
  }
}

/* 超小屏幕（≤576px）：单列布局 */
@media (max-width: 576px) {
  .col-5-fields {
    flex: 0 0 100%;
    max-width: 100%;
  }
  
  .form-row-5 {
    margin-left: 0;
    margin-right: 0;
  }
  
  .col-5-fields,
  .col-12-fields {
    padding-left: 0;
    padding-right: 0;
  }
  
  .form-field-wrapper {
    margin-bottom: var(--spacing-sm, 8px);
  }
}

/* ============================================
   表单卡片内的字段布局
   ============================================ */

/* 确保表单卡片内的字段布局正常 */
.form-card .form-row-5,
.form-section .form-row-5 {
  margin-left: calc(var(--spacing-sm, 8px) * -0.5);
  margin-right: calc(var(--spacing-sm, 8px) * -0.5);
}

/* 表单卡片内的字段包装器间距调整 */
.form-card .form-field-wrapper:last-child,
.form-section .form-field-wrapper:last-child {
  margin-bottom: 0;
}

/* ============================================
   兼容性处理
   ============================================ */

/* 确保与 Bootstrap 的 row 类兼容 */
.row.form-row-5 {
  margin-left: calc(var(--spacing-sm, 8px) * -0.5);
  margin-right: calc(var(--spacing-sm, 8px) * -0.5);
}

/* 确保与 Bootstrap 的 col 类不冲突 */
.row.form-row-5 > .col-5-fields {
  flex: 0 0 20%;
  max-width: 20%;
  padding-left: calc(var(--spacing-sm, 8px) * 0.5);
  padding-right: calc(var(--spacing-sm, 8px) * 0.5);
}

/* 确保 col-12 在 form-row-5 内也能正确显示（全宽） */
.row.form-row-5 > .col-12 {
  flex: 0 0 100%;
  max-width: 100%;
  padding-left: calc(var(--spacing-sm, 8px) * 0.5);
  padding-right: calc(var(--spacing-sm, 8px) * 0.5);
}
