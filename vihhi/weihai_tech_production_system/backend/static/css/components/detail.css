/**
 * 详情页面组件样式
 * 维海科技信息化管理平台
 * 版本: 3.0
 * 
 * 包含：
 * - 详情页容器和布局
 * - 详情卡片组件
 * - 详情字段样式
 * - 详情操作栏
 * - 附件卡片样式
 * - 进度条样式
 * - 历史记录列表
 * - 空状态样式
 */

/* ============================================
   详情页容器
   ============================================ */
.detail-page-container {
    width: 100%;
    max-width: 100%;
}

/* ============================================
   操作栏
   ============================================ */
.detail-actions-bar {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-bottom: var(--spacing-lg, 24px);
    padding: var(--spacing-md, 16px) 0;
}

.detail-actions-container {
    display: flex;
    gap: var(--spacing-sm, 8px);
    flex-wrap: wrap;
}

/* ============================================
   详情卡片容器和卡片
   ============================================ */
.detail-card-wrapper {
    margin-bottom: var(--spacing-sm, 8px);
}

.detail-card {
    background: var(--vh-card-bg, #FFFFFF);
    border-radius: 0;
    box-shadow: var(--shadow-md, 0 2px 8px rgba(0, 0, 0, 0.1));
    border: 1px solid var(--vh-border, #E0E0E0);
    transition: box-shadow var(--transition-base, 0.2s ease), transform var(--transition-base, 0.2s ease);
    position: relative;
    overflow: hidden;
}

.detail-card:hover {
    box-shadow: var(--shadow-lg, 0 4px 12px rgba(0, 0, 0, 0.15));
}

.detail-card-header {
    border-bottom: 2px solid var(--vh-primary, #1A1A1A);
    background-color: var(--vh-surface, #F5F5F5);
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px);
    margin-bottom: 0;
    border-radius: 0;
}

.detail-card-title {
    color: var(--vh-primary, #1A1A1A);
    font-weight: 600;
    font-size: var(--font-size-lg, 18px);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm, 8px);
}

.detail-card-title i {
    font-size: 1.1em;
    color: var(--vh-primary, #1A1A1A);
}

.detail-card-body {
    padding: var(--spacing-lg, 24px);
}

/* ============================================
   详情字段样式
   ============================================ */
.detail-field-wrapper {
    margin-bottom: var(--spacing-md, 16px);
}

.detail-field {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs, 4px);
}

.detail-field-label {
    font-size: var(--font-size-sm, 14px);
    color: var(--vh-text-muted, #666666);
    font-weight: 500;
    line-height: 1.4;
    margin-bottom: var(--spacing-xs, 4px);
}

.detail-field-value {
    font-size: 12px;
    color: var(--vh-text, #000000);
    font-weight: 400;
    line-height: 1.5;
    word-break: break-word;
    background: var(--vh-lightest, #F9F9F9);
    padding: 8px 12px;
    border: 1px solid var(--vh-lighter, #E0E0E0);
    border-radius: 0;
    min-height: 38px;
    display: flex;
    align-items: center;
}

.detail-field-value.multiline {
    white-space: pre-wrap;
    min-height: 1.5em;
}

/* ============================================
   子标题样式
   ============================================ */
.detail-subsection-title {
    font-size: var(--font-size-base, 16px);
    font-weight: 600;
    color: var(--vh-text, #000000);
    margin-bottom: var(--spacing-md, 16px);
    padding-bottom: var(--spacing-sm, 8px);
    border-bottom: 1px solid var(--vh-border-light, #F0F0F0);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm, 8px);
}

.detail-subsection-title i {
    font-size: 0.9em;
    color: var(--vh-primary, #1A1A1A);
}

/* ============================================
   历史记录列表
   ============================================ */
.detail-history-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.detail-history-list > li {
    padding: var(--spacing-md, 16px);
    border-bottom: 1px solid var(--vh-border-light, #F0F0F0);
    transition: background-color var(--transition-base, 0.2s ease);
}

.detail-history-list > li:last-child {
    border-bottom: none;
}

.detail-history-list > li:hover {
    background-color: var(--vh-surface, #F5F5F5);
}

/* ============================================
   关联信息列表
   ============================================ */
.detail-related-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.detail-related-list > li {
    padding: var(--spacing-md, 16px);
    border-bottom: 1px solid var(--vh-border-light, #F0F0F0);
    transition: background-color var(--transition-base, 0.2s ease);
}

.detail-related-list > li:last-child {
    border-bottom: none;
}

.detail-related-list > li:hover {
    background-color: var(--vh-surface, #F5F5F5);
}

.detail-related-links {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm, 8px);
}

.detail-related-links a {
    color: var(--vh-primary, #1A1A1A);
    text-decoration: none;
    padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    border: 1px solid var(--vh-border, #E0E0E0);
    border-radius: 0;
    transition: all var(--transition-base, 0.2s ease);
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm, 8px);
}

.detail-related-links a:hover {
    background-color: var(--vh-surface, #F5F5F5);
    border-color: var(--vh-primary, #1A1A1A);
    color: var(--vh-primary, #1A1A1A);
}

/* ============================================
   空状态样式
   ============================================ */
.detail-empty-state {
    padding: var(--spacing-xl, 32px);
    text-align: center;
    color: var(--vh-text-muted, #666666);
    font-size: var(--font-size-base, 16px);
    background-color: var(--vh-surface, #F5F5F5);
    border: 1px dashed var(--vh-border, #E0E0E0);
    border-radius: 0;
}

/* ============================================
   进度条样式
   ============================================ */
.detail-progress {
    height: 24px;
    background-color: var(--vh-border-light, #F0F0F0);
    border-radius: 0;
    overflow: hidden;
    position: relative;
}

.detail-progress-lg {
    height: 32px;
}

.detail-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--vh-primary, #1A1A1A) 0%, var(--vh-primary-light, #666666) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    color: #FFFFFF;
    font-size: var(--font-size-sm, 14px);
    font-weight: 600;
    transition: width var(--transition-base, 0.3s ease);
    text-align: center;
    line-height: 1;
}

/* ============================================
   图表容器
   ============================================ */
.detail-charts {
    margin-top: var(--spacing-lg, 24px);
}

/* ============================================
   附件卡片样式
   ============================================ */
.detail-attachments-list {
    width: 100%;
}

.attachment-card {
    background: var(--vh-card-bg, #FFFFFF);
    border: 1px solid var(--vh-border, #E0E0E0);
    border-radius: 0;
    padding: var(--spacing-md, 16px);
    transition: all var(--transition-base, 0.2s ease);
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.attachment-card:hover {
    box-shadow: var(--shadow-md, 0 2px 8px rgba(0, 0, 0, 0.1));
    border-color: var(--vh-primary, #1A1A1A);
    transform: translateY(-2px);
}

.attachment-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: var(--vh-primary, #1A1A1A);
    background-color: var(--vh-surface, #F5F5F5);
    border-radius: 0;
    margin-bottom: var(--spacing-sm, 8px);
}

.attachment-name {
    font-size: var(--font-size-sm, 14px);
    font-weight: 600;
    color: var(--vh-text, #000000);
    margin: var(--spacing-xs, 4px) 0;
    word-break: break-word;
    flex: 1;
}

.attachment-meta {
    font-size: var(--font-size-xs, 12px);
    color: var(--vh-text-muted, #666666);
    margin: var(--spacing-xs, 4px) 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs, 4px);
}

.attachment-actions {
    display: flex;
    gap: var(--spacing-xs, 4px);
    margin-top: var(--spacing-sm, 8px);
    width: 100%;
    justify-content: center;
}

.attachment-actions .btn {
    flex: 1;
    max-width: 120px;
}

/* ============================================
   状态徽章样式
   ============================================ */
.badge-status {
    padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
    border-radius: 0;
    font-size: var(--font-size-sm, 14px);
    font-weight: 500;
}

/* ============================================
   详情表格样式（用于状态、关联、审计、附件信息）
   ============================================ */
.detail-table {
    width: 100%;
    border-collapse: collapse;
    margin: 0;
    background: transparent;
}

.detail-table thead {
    display: table-header-group;
}

.detail-table tbody {
    display: table-row-group;
}

.detail-table tr {
    border-bottom: 1px solid var(--vh-border-light, #F0F0F0);
    transition: background-color var(--transition-base, 0.2s ease);
}

.detail-table tr:last-child {
    border-bottom: none;
}

.detail-table tr:hover {
    background-color: var(--vh-surface, #F5F5F5);
}

/* 表头样式 */
.detail-table thead th {
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0;
    text-align: left;
    font-size: var(--font-size-sm, 14px);
    font-weight: 600;
    color: var(--vh-text, #000000);
    background-color: var(--vh-surface, #F5F5F5);
    border-bottom: 2px solid var(--vh-border, #E0E0E0);
    white-space: nowrap;
    vertical-align: middle;
}

.detail-table thead th:first-child {
    padding-left: 0;
}

/* 表体中的 th（作为标签列） */
.detail-table tbody th {
    width: 150px;
    min-width: 150px;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0;
    text-align: left;
    font-size: var(--font-size-sm, 14px);
    font-weight: 600;
    color: var(--vh-text, #000000);
    vertical-align: top;
    white-space: nowrap;
}

.detail-table td {
    padding: var(--spacing-md, 16px) 0;
    font-size: var(--font-size-base, 16px);
    color: var(--vh-text, #000000);
    vertical-align: top;
    word-break: break-word;
}

.detail-table td:empty::before {
    content: '-';
    color: var(--vh-text-muted, #666666);
}

/* 表格中的链接样式 */
.detail-table td a {
    color: var(--vh-primary, #1A1A1A);
    text-decoration: none;
    transition: color var(--transition-base, 0.2s ease);
}

.detail-table td a:hover {
    color: var(--vh-primary-light, #666666);
    text-decoration: underline;
}

/* 表格中的徽章样式 */
.detail-table td .badge {
    display: inline-block;
    margin-right: var(--spacing-xs, 4px);
}

/* 表格分隔行样式 */
.detail-table-separator {
    border-top: 1px solid var(--vh-border-light, #F0F0F0) !important;
    background-color: var(--vh-surface, #F5F5F5);
}

.detail-table-separator td {
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0 !important;
    font-weight: 600;
    font-size: var(--font-size-base, 16px);
    color: var(--vh-text, #000000);
    background-color: var(--vh-surface, #F5F5F5);
}

.detail-table-separator:first-child {
    border-top: none !important;
}

/* 表格表头行样式（在tbody中的表头行） */
.detail-table-header-row {
    background-color: var(--vh-surface, #F5F5F5);
}

.detail-table-header-row th {
    background-color: var(--vh-surface, #F5F5F5) !important;
    border-bottom: 1px solid var(--vh-border-light, #F0F0F0) !important;
    border-top: 1px solid var(--vh-border-light, #F0F0F0) !important;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0 !important;
    font-size: var(--font-size-sm, 14px) !important;
    font-weight: 600 !important;
    color: var(--vh-text, #000000) !important;
    vertical-align: middle !important;
    white-space: nowrap;
}

.detail-table-header-row th:first-child {
    padding-left: 0 !important;
}

/* 附件表格特殊样式 */
.detail-table.attachment-table th {
    width: 80px;
    min-width: 80px;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0;
}

.detail-table.attachment-table td {
    padding: var(--spacing-md, 16px) 0;
}

.detail-table.attachment-table .attachment-icon-cell {
    width: 80px;
    text-align: center;
    padding: var(--spacing-md, 16px) var(--spacing-lg, 24px) var(--spacing-md, 16px) 0;
}

.detail-table.attachment-table .attachment-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    font-size: 20px;
    color: var(--vh-primary, #1A1A1A);
    background-color: var(--vh-surface, #F5F5F5);
    border-radius: 0;
}

.detail-table.attachment-table .attachment-name-cell {
    font-weight: 500;
    color: var(--vh-text, #000000);
    min-width: 200px;
}

.detail-table.attachment-table .attachment-meta-cell {
    font-size: var(--font-size-sm, 14px);
    color: var(--vh-text-muted, #666666);
    white-space: nowrap;
    width: 180px;
}

.detail-table.attachment-table .attachment-actions-cell {
    white-space: nowrap;
    text-align: right;
    width: 150px;
}

.detail-table.attachment-table .attachment-actions-cell .btn {
    margin-right: var(--spacing-xs, 4px);
}

.detail-table.attachment-table .attachment-actions-cell .btn:last-child {
    margin-right: 0;
}

/* ============================================
   基本信息表格网格布局（表单信息）
   ============================================ */
.detail-basic-info-table {
    display: block !important;
    width: 100% !important;
    border-collapse: separate !important;
}

.detail-basic-info-table thead {
    display: none !important;
}

.detail-basic-info-table tbody {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: var(--spacing-md, 16px) !important;
    grid-auto-rows: minmax(auto, auto) !important;
    width: 100% !important;
}

/* 覆盖通用表格样式 */
.detail-basic-info-table tbody tr {
    display: flex !important;
    flex-direction: column !important;
    border: 1px solid var(--vh-border, #E0E0E0) !important;
    background-color: var(--vh-card-bg, #FFFFFF) !important;
    padding: var(--spacing-md, 16px) !important;
    margin: 0 !important;
    border-radius: 0 !important;
    transition: all var(--transition-base, 0.2s ease) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    border-bottom: 1px solid var(--vh-border, #E0E0E0) !important;
}

.detail-basic-info-table tbody tr:last-child {
    border-bottom: 1px solid var(--vh-border, #E0E0E0) !important;
}

.detail-basic-info-table tbody tr:hover {
    border-color: var(--vh-primary, #1A1A1A) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    background-color: var(--vh-surface, #F5F5F5) !important;
}

.detail-basic-info-table tbody tr th {
    width: 100% !important;
    padding: 0 0 var(--spacing-sm, 8px) 0 !important;
    margin: 0 !important;
    font-size: var(--font-size-sm, 14px) !important;
    font-weight: 600 !important;
    color: var(--vh-text, #000000) !important;
    border: none !important;
    background: transparent !important;
    text-align: left !important;
    white-space: normal !important;
    min-width: auto !important;
    display: block !important;
    vertical-align: top !important;
}

.detail-basic-info-table tbody tr td {
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    font-size: var(--font-size-base, 16px) !important;
    color: var(--vh-text, #000000) !important;
    border: none !important;
    background: transparent !important;
    text-align: left !important;
    word-break: break-word !important;
    min-height: 1.5em !important;
    display: block !important;
    vertical-align: top !important;
}

.detail-basic-info-table tbody tr td:empty::before {
    content: '-' !important;
    color: var(--vh-text-muted, #666666) !important;
}

/* 全宽字段（占两列） */
.detail-basic-info-table tbody tr.field-full-width {
    grid-column: 1 / -1 !important;
}

/* ============================================
   响应式设计
   ============================================ */
@media (max-width: 768px) {
    .detail-card-body {
        padding: var(--spacing-md, 16px);
    }
    
    .detail-card-header {
        padding: var(--spacing-sm, 8px) var(--spacing-md, 16px);
    }
    
    .detail-card-title {
        font-size: var(--font-size-base, 16px);
    }
    
    .detail-actions-bar {
        flex-direction: column;
        align-items: stretch;
    }
    
    .detail-actions-container {
        width: 100%;
        justify-content: stretch;
    }
    
    .detail-actions-container .btn {
        flex: 1;
    }
    
    .detail-table th {
        width: 120px;
        min-width: 120px;
        padding: var(--spacing-sm, 8px) var(--spacing-md, 16px) var(--spacing-sm, 8px) 0;
    }
    
    .detail-table td {
        padding: var(--spacing-sm, 8px) 0;
    }
    
    /* 基本信息表格在小屏幕上单列显示 */
    .detail-basic-info-table tbody {
        grid-template-columns: 1fr !important;
    }
    
    .detail-table.attachment-table {
        font-size: var(--font-size-sm, 14px);
    }
    
    .detail-table.attachment-table .attachment-icon-cell {
        width: 60px;
        padding: var(--spacing-sm, 8px) var(--spacing-sm, 8px) var(--spacing-sm, 8px) 0;
    }
    
    .detail-table.attachment-table .attachment-name-cell {
        min-width: 150px;
    }
    
    .detail-table.attachment-table .attachment-meta-cell {
        width: 140px;
        font-size: var(--font-size-xs, 12px);
    }
    
    .detail-table.attachment-table .attachment-actions-cell {
        width: 120px;
    }
    
    .detail-table.attachment-table .attachment-actions-cell .btn {
        padding: var(--spacing-xs, 4px) var(--spacing-sm, 8px);
        font-size: var(--font-size-xs, 12px);
    }
}

@media (max-width: 576px) {
    .detail-card-body {
        padding: var(--spacing-sm, 8px);
    }
    
    .detail-field-label {
        font-size: var(--font-size-xs, 12px);
    }
    
    .detail-field-value {
        font-size: var(--font-size-sm, 14px);
    }
    
    .detail-subsection-title {
        font-size: var(--font-size-sm, 14px);
    }
    
    .detail-empty-state {
        padding: var(--spacing-md, 16px);
        font-size: var(--font-size-sm, 14px);
    }
}
