/* Admin 后台管理系统 - 基础样式 */

@import url('./variables.css');

/* 全局重置 */
* {
    box-sizing: border-box;
}

html {
    margin: 0;
    padding: 0;
    margin-left: 0 !important;
    padding-left: 0 !important;
    overflow-x: hidden !important;
}

html body,
body {
    margin: 0 !important;
    padding: 0 !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
    overflow-x: hidden !important;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--admin-bg);
    color: var(--admin-text);
    font-size: var(--admin-font-base);
    line-height: 1.5;
}

/* 容器重置 */
html body #container,
body #container,
#container {
    margin: 0 !important;
    padding: 0 !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* 确保没有任何父元素影响 */
body > div,
#main,
#wrapper {
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* 隐藏Django Admin默认元素 */
#header #user-tools {
    display: none !important;
}

#header a[href*="view_on_site"],
#header a[href="/"],
#header .viewlink,
#user-tools a[href="/"],
.object-tools a[href*="view_on_site"],
.object-tools .viewlink {
    display: none !important;
}

/* 隐藏创建表单页面顶部的标题文字 */
.center-hero,
.center-hero.mb-4,
.center-hero h1.hero-title,
.center-hero h1,
.center-hero p,
.workspace-content > .d-flex.justify-content-between.align-items-center.mb-4:first-child,
.container-fluid .center-hero.mb-4,
.container .d-flex.justify-content-between.align-items-center.mb-3:first-child h2,
.container-fluid .center-hero:first-child {
    display: none !important;
}

/* 卡片上移 - 减少表单卡片的上边距 */
.form-card:first-of-type,
.info-card:first-of-type,
.workspace-content > .info-card:first-child,
.workspace-content > form:first-child,
.container-fluid .form-card:first-child,
form.form-card:first-child,
.workspace-content > .info-card.info-card-fade-in:first-child {
    margin-top: 0 !important;
}

/* 调整容器上边距 */
.container-fluid.py-4:has(.center-hero),
.workspace-content:has(.d-flex.justify-content-between.align-items-center.mb-4:first-child) {
    padding-top: 1rem !important;
}

/* 如果标题区域被隐藏，减少其后的第一个元素的margin-top */
.center-hero + .form-card,
.center-hero + form,
.center-hero + .info-card,
.d-flex.justify-content-between.align-items-center.mb-4:first-child + form,
.d-flex.justify-content-between.align-items-center.mb-4:first-child + .info-card {
    margin-top: 0 !important;
}

/* 全局强制样式 - 确保所有卡片都是直角 */
.card,
.info-card,
.form-card,
#content .module,
#result_list,
#changelist-search,
#changelist-filter {
    border-radius: 0 !important;
}

/* 隐藏"跳到主要内容"链接，避免刷新时闪现 */
.skip-to-content-link {
    position: absolute !important;
    left: -9999px !important;
    width: 1px !important;
    height: 1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
}

/* 当链接获得焦点时显示（用于无障碍访问） */
.skip-to-content-link:focus {
    position: fixed !important;
    top: 10px !important;
    left: 10px !important;
    z-index: 9999 !important;
    width: auto !important;
    height: auto !important;
    padding: 8px 16px !important;
    background-color: var(--admin-primary, #007bff) !important;
    color: white !important;
    text-decoration: none !important;
    border-radius: 4px !important;
    clip: auto !important;
    overflow: visible !important;
}



/* ========== 过滤器使用Django默认flex布局，保持在右侧 ========== */
/* 已移除position: fixed，使用Django默认的flex布局 */
