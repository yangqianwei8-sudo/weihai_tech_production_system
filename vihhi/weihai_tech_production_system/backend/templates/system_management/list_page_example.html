{% extends "shared/list_page_base.html" %}
{% load static %}

{% comment %}
  åˆ—è¡¨é¡µé¢ç¤ºä¾‹
  å®Œå…¨æŒ‰ç…§ list_page_base.html åŸºç¡€æ¨¡æ¿æ¸²æŸ“
  å±•ç¤ºå¦‚ä½•ä½¿ç”¨åˆ—è¡¨é¡µé¢åŸºç¡€æ¨¡æ¿
{% endcomment %}

{% block list_stats_content %}
  {# ç»Ÿè®¡å¡ç‰‡ç¤ºä¾‹ #}
  <div class="list-stat-card">
    <div class="list-stat-icon">ğŸ“Š</div>
    <div class="list-stat-content">
      <div class="list-stat-value">5</div>
      <div class="list-stat-label">æ€»è®°å½•æ•°</div>
    </div>
  </div>
  <div class="list-stat-card">
    <div class="list-stat-icon">âœ…</div>
    <div class="list-stat-content">
      <div class="list-stat-value">3</div>
      <div class="list-stat-label">æ´»è·ƒçŠ¶æ€</div>
    </div>
  </div>
  <div class="list-stat-card">
    <div class="list-stat-icon">â³</div>
    <div class="list-stat-content">
      <div class="list-stat-value">1</div>
      <div class="list-stat-label">å¾…å¤„ç†</div>
    </div>
  </div>
{% endblock list_stats_content %}

{% block list_action_bar_content %}
  {# æ“ä½œæ å·²åˆ é™¤ #}
{% endblock list_action_bar_content %}

{% block list_filters_content %}
  {# ç­›é€‰å™¨ç¤ºä¾‹ - ä½¿ç”¨æ ‡å‡†Bootstrapæ …æ ¼ç³»ç»Ÿ #}
  <div class="row g-3">
    <div class="col-md-3">
      <label class="form-label">åç§°</label>
      <input type="text" name="search" class="form-control form-control-sm" placeholder="æœç´¢åç§°" value="{{ request.GET.search|default:'' }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">çŠ¶æ€</label>
      <select name="status" class="form-select form-select-sm">
        <option value="">å…¨éƒ¨</option>
        <option value="active" {% if request.GET.status == 'active' %}selected{% endif %}>æ´»è·ƒ</option>
        <option value="inactive" {% if request.GET.status == 'inactive' %}selected{% endif %}>éæ´»è·ƒ</option>
        <option value="pending" {% if request.GET.status == 'pending' %}selected{% endif %}>å¾…å¤„ç†</option>
      </select>
    </div>
  </div>
{% endblock list_filters_content %}

{% block list_table_headers %}
  <th style="width: 50px;">
    <input type="checkbox" id="selectAll" class="form-check-input" title="å…¨é€‰">
  </th>
  <th style="width: 10%;">ID</th>
  <th style="width: 30%;">åç§°</th>
  <th style="width: 15%;">çŠ¶æ€</th>
  <th style="width: 20%;">åˆ›å»ºæ—¶é—´</th>
  <th style="width: 15%;">åˆ›å»ºäºº</th>
  <th style="width: 10%;">æ“ä½œ</th>
{% endblock list_table_headers %}

{% block list_table_rows %}
  {% if page_obj %}
    {% for item in page_obj %}
    <tr>
      <td>
        <input type="checkbox" class="form-check-input row-checkbox" name="item_ids" value="{{ item.id }}" id="item_{{ item.id }}">
      </td>
      <td>{{ item.id }}</td>
      <td><strong>{{ item.name }}</strong></td>
      <td>
        {% if item.status == 'active' %}
          <span class="badge bg-success">æ´»è·ƒ</span>
        {% elif item.status == 'inactive' %}
          <span class="badge bg-secondary">éæ´»è·ƒ</span>
        {% elif item.status == 'pending' %}
          <span class="badge bg-warning">å¾…å¤„ç†</span>
        {% else %}
          <span class="badge bg-info">{{ item.status }}</span>
        {% endif %}
      </td>
      <td>{{ item.created_at }}</td>
      <td>{{ item.created_by.get_full_name|default:item.created_by.username }}</td>
      <td>
        <div class="list-page-table-actions">
          <a href="#" class="action-view" onclick="alert('æŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½ç¤ºä¾‹'); return false;" title="æŸ¥çœ‹">
            <i class="bi bi-eye"></i>
          </a>
          <span class="action-separator">|</span>
          <a href="#" class="action-edit" onclick="alert('ç¼–è¾‘åŠŸèƒ½ç¤ºä¾‹'); return false;" title="ç¼–è¾‘">
            <i class="bi bi-pencil"></i>
          </a>
          <span class="action-separator">|</span>
          <a href="#" class="action-delete" onclick="alert('åˆ é™¤åŠŸèƒ½ç¤ºä¾‹'); return false;" title="åˆ é™¤">
            <i class="bi bi-trash"></i>
          </a>
        </div>
      </td>
    </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td colspan="7" class="list-empty">
        <div class="list-empty-icon">ğŸ“‹</div>
        <div class="list-empty-text">æš‚æ— æ•°æ®</div>
      </td>
    </tr>
  {% endif %}
{% endblock list_table_rows %}

{% block list_empty_hint %}
  <div class="list-empty-hint">è¿™æ˜¯ä½¿ç”¨ list_page_base.html åŸºç¡€æ¨¡æ¿çš„ç¤ºä¾‹åˆ—è¡¨é¡µé¢</div>
{% endblock list_empty_hint %}
