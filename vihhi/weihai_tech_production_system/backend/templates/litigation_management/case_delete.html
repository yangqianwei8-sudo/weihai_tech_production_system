{% extends "litigation_management/base.html" %}
{% load static %}

{% block title %}删除案件 - {{ case.case_number }}{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item"><a href="{% url 'litigation_pages:litigation_home' %}">诉讼管理</a></li>
<li class="breadcrumb-item"><a href="{% url 'litigation_pages:case_detail' case.id %}">案件详情</a></li>
<li class="breadcrumb-item active">删除案件</li>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- 页面标题 -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">{{ page_title }}</h2>
            <p class="text-muted mb-0">{{ description }}</p>
        </div>
        <div>
            <a href="{% url 'litigation_pages:case_detail' case.id %}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> 返回详情
            </a>
        </div>
    </div>

    <!-- 确认删除 -->
    <div class="info-card info-card-danger">
        <div class="info-card-header">
            <h5 class="info-card-title">⚠️ 确认删除</h5>
        </div>
        <div class="info-card-body">
            <div class="alert alert-danger">
                <h5><i class="bi bi-exclamation-triangle-fill"></i> 警告</h5>
                <p class="mb-2">您即将删除以下案件：</p>
                <p class="mb-2"><strong>{{ case.case_number }} - {{ case.case_name }}</strong></p>
                <p class="mb-0">此操作将同时删除该案件的所有关联数据（流程、文档、费用、人员、时间节点、保全续封等），此操作不可恢复，请谨慎操作！</p>
            </div>
            
            <!-- 案件基本信息 -->
            <div class="info-grid mb-4">
                <div class="info-item">
                    <span class="info-label">案件编号</span>
                    <span class="info-value">{{ case.case_number }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">案件名称</span>
                    <span class="info-value">{{ case.case_name }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">案件类型</span>
                    <span class="info-value">{{ case.get_case_type_display }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">案件状态</span>
                    <span class="info-value">
                        <span class="status-badge {{ case.status }}">
                            {{ case.get_status_display }}
                        </span>
                    </span>
                </div>
            </div>
            
            <form method="post">
                {% csrf_token %}
                <div class="d-flex justify-content-end gap-2">
                    <a href="{% url 'litigation_pages:case_detail' case.id %}" class="btn btn-secondary">
                        <i class="bi bi-x-circle"></i> 取消
                    </a>
                    <button type="submit" class="btn btn-danger">
                        <i class="bi bi-trash"></i> 确认删除
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

