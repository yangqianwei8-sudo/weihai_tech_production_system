{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>维海科技 - 工作台</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary-black: #000000;
            --dark-gray: #333333;
            --medium-gray: #666666;
            --light-gray: #999999;
            --border-gray: #dddddd;
            --background-light: #f8f9fa;
            --white: #ffffff;
            --accent-color: #0056b3;
            --card-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            --button-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        body {
            background-color: var(--white);
            color: var(--dark-gray);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* 顶部导航栏 */
        .top-nav {
            right: 0;
            left: 0;
            top: 0;
            position: fixed;
            color: #ffffff !important;
            background-color: #000000 !important;
            padding: 0 20px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #333333;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }
        
        .logo-area {
            position: relative;
            justify-content: center;
            flex: 1;
            color: #ffffff !important;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .logo-brand {
            position: absolute;
            left: 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .logo {
            width: 36px;
            background-color: #ffffff !important;
            height: 36px;
            color: #000000 !important;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        
        .system-name-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            line-height: 1.2;
            height: 36px;
        }.system-name {
            margin: 0;
            line-height: 1.2;
            font-size: 16px;
            font-weight: 600;
            color: #ffffff !important;
        }
        .system-name-en {
            font-size: 10px;
            font-weight: 400;
            color: #ffffff;
            letter-spacing: 1px;
            line-height: 1.2;
            margin-top: 2px;
        }
                .welcome-info {
            text-align: center;
            display: flex;
            align-items: flex-end;
            padding-bottom: 2px;
        }
        
        .welcome-text {
            font-size: 14px;
            color: #ffffff;
            white-space: nowrap;
        }
        
        .welcome-text {
            font-size: 14px;
            color: #ffffff;
            white-space: nowrap;
        }
        
        .nav-controls {
            color: #ffffff !important;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .nav-controls i {
            font-size: 18px;
            color: #ffffff !important;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .nav-controls i:hover {
            color: var(--accent-color);
        }
        
        .user-profile {
            color: #ffffff !important;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--primary-black);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
        }
        
        /* 主要内容区域 */
        .main-container {
            background-color: transparent;
            margin-top: 56px;
            display: flex;
            flex: 1;
            overflow: hidden;
            margin-left: 232px;
            width: calc(100% - 232px);
        }
        
        /* 侧边导航 */
        .sidebar {
            width: 232px;
            background-color: var(--white);
            border-right: 1px solid var(--border-gray);
            padding: 20px 0;
            overflow-y: auto;
            overflow-x: visible;
            transition: width 0.3s;
            position: fixed;
            left: 0;
            top: 56px;
            bottom: 0;
            z-index: 90;
        }
        
        .menu-section {
            margin-bottom: 25px;
        }
        
        .menu-title {
            color: var(--medium-gray);
            font-size: 12px;
            padding: 0 20px 10px;
            border-bottom: 1px solid var(--border-gray);
            margin-bottom: 10px;
            font-weight: 500;
            letter-spacing: 1px;
        }
        
        .menu-item {
            font-size: 12px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--dark-gray);
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
            text-decoration: none;
        }
        .menu-item span {
            font-size: 12px;
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
            width: auto !important;
        }
        
        .menu-item:hover {
            background-color: rgba(0, 0, 0, 0.03);
            border-left-color: var(--primary-black);
        }
        
        .menu-item.active {
            background-color: rgba(0, 0, 0, 0.05);
            border-left-color: var(--primary-black);
            color: var(--primary-black);
            font-weight: 500;
        }
        
        .menu-item i {
            width: 20px;
            text-align: center;
            font-size: 16px;
            color: var(--dark-gray);
        }

            padding: 6px 0;
            font-size: 13px;
            color: var(--medium-gray);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .scenario-features .feature-item i {
            color: var(--primary-black);
            font-size: 11px;
        }

        .sub-menu-item:hover {
            background-color: rgba(0, 0, 0, 0.03);
            border-left-color: var(--primary-black);
            color: var(--primary-black);
        }
        
        .sub-menu-item i {
            width: 18px;
            text-align: center;
            font-size: 14px;
        }

            position: relative;
        }
        
        .scenario-header {
            position: relative;
        }
        
        .scenario-toggle {
            margin-left: auto;
            font-size: 12px;
            transition: transform 0.3s;
        }
        
        .scenario-menu-item.active .scenario-toggle {
            transform: rotate(180deg);
        }
        
        .scenario-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background-color: rgba(0, 0, 0, 0.01);
        }
        
        .scenario-menu-item.active .scenario-content {
            max-height: 800px;
        }
        
        .scenario-modules-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            padding: 0;
        }
        
        .module-card {
            background-color: #000000;
            border: 1px solid var(--border-gray);
            border-radius: 0;
            padding: 12px;
            text-decoration: none;
            color: var(--dark-gray);
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .module-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-black);
            color: var(--dark-gray);
            text-decoration: none;
        }
        
        .module-card-icon {
            width: 36px;
            height: 36px;
            background-color: var(--background-light);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 16px;
            color: var(--primary-black);
        }
        
        .module-card-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 4px;
        }
        
        .module-card-desc {
            font-size: 11px;
            color: var(--medium-gray);
            line-height: 1.4;
        }

        /* 场景模块卡片容器 */
        .scenario-modules-container {
            margin-top: 30px;
        }
        
        .scenario-modules-header {
            margin-bottom: 25px;
        }
        
        .scenario-modules-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 8px;
        }
        
        .scenario-modules-subtitle {
            font-size: 14px;
            color: var(--medium-gray);
        }
        
        .scenario-modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .scenario-module-card {
            background-color: var(--white);
            border: 1px solid var(--border-gray);
            border-radius: 0;
            padding: 24px;
            text-decoration: none;
            color: var(--dark-gray);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .scenario-module-card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-black);
            color: var(--dark-gray);
            text-decoration: none;
        }
        
        .scenario-module-card-icon {
            width: 64px;
            height: 64px;
            background-color: var(--background-light);
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            font-size: 28px;
            color: var(--primary-black);
        }
        
        .scenario-module-card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 8px;
        }
        
            font-size: 14px;
            color: var(--medium-gray);
            line-height: 1.5;
        }
        
        .scenario-module-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-gray);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        
        
        .scenario-module-link {
            display: block;
            padding: 8px 12px;
            background-color: var(--background-light);
            color: var(--dark-gray);
            text-decoration: none;
            border-radius: 4px;
            font-size: 13px;
            transition: all 0.2s;
            text-align: center;
        }
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
        
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
        
        .scenario-module-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-gray);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
            color: var(--medium-gray);
        
        .scenario-module-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-gray);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
            line-height: 1.5;
        
        .scenario-module-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-gray);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
        }
        
        .scenario-module-links {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-gray);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        
        .scenario-module-link:hover {
            background-color: var(--accent-color);
            color: var(--white);
            text-decoration: none;
        }
        
/* 主内容区 */
        .content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background-color: var(--background-light);
            width: 100%;
        }
        
        .welcome-section {
            margin-bottom: 30px;
            background-color: var(--white);
            padding: 25px;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
        }
        
        .welcome-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-black);
        }
        
        .welcome-subtitle {
            color: var(--medium-gray);
            font-size: 16px;
        }
        
        /* 六大工作场景 */
        .work-scenarios {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .scenario-card {
            background-color: var(--white);
            border-radius: 0;
            padding: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-gray);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .scenario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .scenario-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .scenario-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: var(--white);
            flex-shrink: 0;
        }
        
        .scenario-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 5px;
        }
        
        .scenario-desc {
            font-size: 14px;
            color: var(--medium-gray);
            line-height: 1.5;
        }
        
        .scenario-features {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border-gray);
        }
        
        .feature-list {
            list-style-type: none;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 14px;
            color: var(--dark-gray);
        }
        
        .feature-item i {
            color: var(--primary-black);
            margin-right: 10px;
            width: 18px;
        }
        
        .scenario-action {
            margin-top: 25px;
        }
        
        .btn-scenario {
            display: inline-block;
            background-color: var(--primary-black);
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            font-size: 14px;
            box-shadow: var(--button-shadow);
        }
        
        .btn-scenario:hover {
            background-color: #333;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* 快速访问模块 */
        .quick-access {
            background-color: transparent;
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-gray);
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--primary-black);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--primary-black);
        }
        
        .module-grid {
            background-color: transparent;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .module-item {
            color: var(--dark-gray);
            border-radius: 8px;
            padding: 20px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border-gray);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            text-decoration: none;
            color: inherit;
        }
        
        .module-item:hover {
            background-color: rgba(0, 0, 0, 0.02);
            border-color: var(--primary-black);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .module-icon {
            width: 45px;
            height: 45px;
            color: var(--primary-black);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            font-size: 20px;
            color: var(--primary-black);
        }
        
        .module-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        /* 系统状态 */
        .system-status {
            background-color: transparent;
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-gray);
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
        }
        
        .status-card {
            padding: 20px;
            border-radius: 0;
            background-color: var(--white);
        }
        
        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .status-title {
            font-size: 14px;
            color: var(--medium-gray);
        }
        
        .status-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--white);
            background-color: var(--primary-black);
        }
        
        .status-value {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-black);
            margin-bottom: 5px;
        }
        
        .status-change {
            font-size: 13px;
            color: #27ae60;
        }
        
        .status-change.negative {
            color: #e74c3c;
        }
        
        /* 响应式设计 */
        @media (max-width: 1200px) {
            .work-scenarios {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .module-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (max-width: 992px) {
            .sidebar {
                width: 232px;
                transform: translateX(0);
                transition: transform 0.3s;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-container {
                width: 100%;
                margin-left: 0;
            }
            
            .content-area {
                margin-left: 0;
            }
            
            .menu-title, 
        }
            
            .menu-title, 
@media (max-width: 768px) {
            .module-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .content-area {
                padding: 20px;
            }
            
            .system-status {
                grid-template-columns: repeat(2, 1fr);
            }
        }
            .scenario-modules-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        @media (max-width: 576px) {
            .module-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .system-status {
                grid-template-columns: 1fr;
            }
        }
        
        /* 自定义滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #aaa;
        }
            .scenario-modules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        </style>
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="top-nav">
                <div class="logo-area">
            <div class="logo-brand">
                <div class="logo">
                    <span>VIH</span>
                </div>
                                <div class="system-name-wrapper">
                    <h1 class="system-name">维海科技</h1>
                    <div class="system-name-en">VIHHAI TECHNOLOGY</div>
                </div>
            </div>
            <div class="welcome-info">
                <span class="welcome-text">
                    欢迎你，{% if user.is_authenticated %}{{ user.get_full_name|default:user.username }}{% else %}访客{% endif %}，
                    今天是{% now "Y年m月d日" %}，现在是{% now "H:i" %}分
                </span>
            </div>
        </div>
        </div>
        
        <div class="nav-controls">
            <i class="fas fa-question-circle" title="帮助"></i>
            <i class="fas fa-cog" title="设置"></i>
            <i class="fas fa-comment-dots" title="反馈"></i>
            <div class="user-profile">
                <div class="user-avatar">
                    {% if user.is_authenticated %}
                        <i class="fas fa-user"></i>
                    {% else %}
                        <i class="fas fa-user"></i>
                    {% endif %}
                </div>
                <span style="color: #ffffff !important;">
                    {% if user.is_authenticated %}
                        {{ user.get_full_name|default:user.username }}
                    {% else %}
                        访客
                    {% endif %}
                </span>
            </div>
        </div>
    </header>
    
    <!-- 主要内容区域 -->
    <div class="main-container">
        <!-- 侧边导航 -->
                                        <nav class="sidebar">
            <div class="menu-section">
                <div class="menu-title">工作场景</div>
                <a href="javascript:void(0)" class="menu-item active" data-scenario="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>系统工作台</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="customer">
                    <i class="fas fa-handshake"></i>
                    <span>商务中心</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="production">
                    <i class="fas fa-industry"></i>
                    <span>生产中心</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="resource">
                    <i class="fas fa-boxes"></i>
                    <span>结算中心</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="risk">
                    <i class="fas fa-shield-alt"></i>
                    <span>风控中心</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="finance">
                    <i class="fas fa-chart-line"></i>
                    <span>运营中心</span>
                </a>
                
                <a href="javascript:void(0)" class="menu-item" data-scenario="admin">
                    <i class="fas fa-building"></i>
                    <span>行政中心</span>
                </a>
            </div>
        </nav>
        
        <!-- 主内容区 -->
        <main class="content-area">
            
                   <!-- 场景模块卡片显示区域 -->
                   <div id="scenario-modules-container" class="scenario-modules-container" style="display: none;">
                       <div class="scenario-modules-header">
                           <h2 class="scenario-modules-title" id="scenario-modules-title">场景模块</h2>
                           <p class="scenario-modules-subtitle" id="scenario-modules-subtitle">选择左侧场景查看对应功能模块</p>
                       </div>
                       <div class="scenario-modules-grid" id="scenario-modules-grid">
                           <!-- 动态加载的场景模块卡片 -->
                       </div>
                   </div>
                   
<!-- 六大工作场景 -->
            <div class="work-scenarios">
                <!-- 客户管理场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #3498db;">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">客户管理</h3>
                            <p class="scenario-desc">全流程客户关系管理，从商机到合同再到回款，一体化协同工作平台。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 客户信息全景视图</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 商机跟进与预测</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 合同在线签订与管理</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 回款计划与执行跟踪</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="{% url 'customer_pages:customer_management_home' %}" class="btn-scenario">进入客户管理</a>
                    </div>
                </div>
                
                <!-- 生产管理场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #2ecc71;">
                            <i class="fas fa-industry"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">生产管理</h3>
                            <p class="scenario-desc">生产计划、任务分配、进度跟踪、质量管理一体化生产管理系统。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 生产计划排程</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 任务分配与进度跟踪</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 质量管理与检验</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 设备与资源调度</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="{% url 'production_pages:project_list' %}" class="btn-scenario">进入生产管理</a>
                    </div>
                </div>
                
                <!-- 资源调度场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #9b59b6;">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">资源调度</h3>
                            <p class="scenario-desc">人力、设备、物料等资源统一调度与优化配置，提升资源利用效率。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 人力资源调配</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 设备资源管理</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 物料库存管理</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 资源使用分析</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="{% url 'resource_standard_pages:standard_list' %}" class="btn-scenario">进入资源调度</a>
                    </div>
                </div>
                
                <!-- 风险控制场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #e74c3c;">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">风险控制</h3>
                            <p class="scenario-desc">全面风险管理，识别、评估、监控和应对企业运营中的各类风险。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 风险识别与评估</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 风险监控与预警</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 应对策略与预案</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 诉讼案件管理</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="{% url 'litigation_pages:litigation_home' %}" class="btn-scenario">进入风险控制</a>
                    </div>
                </div>
                
                <!-- 财务分析场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #f39c12;">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">财务分析</h3>
                            <p class="scenario-desc">财务报表、预算管理、成本分析、资金监控一体化财务管理平台。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 财务报表与分析</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 预算编制与执行</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 成本核算与控制</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 资金流监控</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="#" class="btn-scenario">进入财务分析</a>
                    </div>
                </div>
                
                <!-- 行政办公场景 -->
                <div class="scenario-card">
                    <div class="scenario-header">
                        <div class="scenario-icon" style="background-color: #34495e;">
                            <i class="fas fa-building"></i>
                        </div>
                        <div>
                            <h3 class="scenario-title">行政办公</h3>
                            <p class="scenario-desc">人事管理、行政事务、档案管理、协同办公一体化行政办公平台。</p>
                        </div>
                    </div>
                    <div class="scenario-features">
                        <ul class="feature-list">
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 人事档案与考勤</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 行政事务管理</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 档案归档与查询</li>
                            <li class="feature-item"><i class="fas fa-check-circle"></i> 协同办公与审批</li>
                        </ul>
                    </div>
                    <div class="scenario-action">
                        <a href="{% url 'admin_pages:administrative_home' %}" class="btn-scenario">进入行政办公</a>
                    </div>
                </div>
            </div>
            
            <!-- 快速访问模块 -->
            <div class="quick-access">
                <h3 class="section-title">
                    <i class="fas fa-bolt"></i>
                    快速访问
                </h3>
                <div class="module-grid">
                    <a href="{% url 'customer_pages:customer_management_home' %}" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="module-name">客户管理</div>
                    </a>
                    
                    <a href="{% url 'contract_pages:contract_management_home' %}" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <div class="module-name">合同管理</div>
                    </a>
                    
                    <a href="#" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="module-name">任务协作</div>
                    </a>
                    
                    <a href="{% url 'production_pages:project_list' %}" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-industry"></i>
                        </div>
                        <div class="module-name">生产管理</div>
                    </a>
                    
                    <a href="#" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="module-name">财务管理</div>
                    </a>
                    
                    <a href="{% url 'personnel_pages:personnel_home' %}" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="module-name">人事管理</div>
                    </a>
                    
                    <a href="#" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-archive"></i>
                        </div>
                        <div class="module-name">档案管理</div>
                    </a>
                    
                    <a href="{% url 'system_pages:system_settings' %}" class="module-item">
                        <div class="module-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="module-name">系统管理</div>
                    </a>
                </div>
            </div>
            
            <!-- 系统状态 -->
            <div class="system-status">
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-title">系统用户</div>
                        <div class="status-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                    </div>
                    <div class="status-value">{{ user_count|default:"1,248" }}</div>
                    <div class="status-change">+12 本周新增</div>
                </div>
                
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-title">活跃会话</div>
                        <div class="status-icon">
                            <i class="fas fa-laptop"></i>
                        </div>
                    </div>
                    <div class="status-value">326</div>
                    <div class="status-change">+8 较昨日</div>
                </div>
                
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-title">待处理任务</div>
                        <div class="status-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                    </div>
                    <div class="status-value">{{ pending_counts.personal|default:89 }}</div>
                    <div class="status-change negative">+15 较昨日</div>
                </div>
                
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-title">系统可用性</div>
                        <div class="status-icon">
                            <i class="fas fa-server"></i>
                        </div>
                    </div>
                    <div class="status-value">99.8%</div>
                    <div class="status-change">+0.1% 较上周</div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 为菜单项添加点击事件
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function(e) {
                // 移除所有菜单项的active类
                document.querySelectorAll('.menu-item').forEach(el => {
                    el.classList.remove('active');
                });
                // 为当前点击的菜单项添加active类
                this.classList.add('active');
            });
        });
        
        // 为快速访问模块添加点击事件
        document.querySelectorAll('.module-item').forEach(item => {
            item.addEventListener('click', function(e) {
                // 链接已通过href处理，这里可以添加额外的逻辑
            });
        });
        
        // 为工作场景按钮添加点击事件
        document.querySelectorAll('.btn-scenario').forEach(button => {
            button.addEventListener('click', function(e) {
                // 链接已通过href处理，这里可以添加额外的逻辑
            });
        });
        
        // 为顶部导航图标添加点击事件
        document.querySelectorAll('.nav-controls i').forEach(icon => {
            icon.addEventListener('click', function() {
                const title = this.getAttribute('title');
                if (title === '设置') {
                    window.location.href = "{% url 'system_pages:account_settings' %}";
                } else {
                    alert(`打开${title}功能`);
                }
            });
        });
        
        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Dashboard页面加载完成');
            
            // 可以根据当前URL高亮对应的菜单项
            const currentPath = window.location.pathname;
            document.querySelectorAll('.menu-item').forEach(item => {
                if (item.getAttribute('href') === currentPath) {
                    item.classList.add('active');
                }
            });
        });

        // 场景切换功能
        const scenarioModules = {
            'customer': {
                name: '客户管理',
                modules: [
                    {name: '客户管理', url: '{% url "customer_pages:customer_management_home" %}', icon: 'fas fa-users', desc: '客户信息管理与关系维护'},
                    {name: '商机管理', url: '{% url "opportunity_pages:opportunity_management_home" %}', icon: 'fas fa-bullseye', desc: '商机跟进与销售预测'},
                    {name: '合同管理', url: '{% url "contract_pages:contract_management_home" %}', icon: 'fas fa-file-contract', desc: '合同签订与执行管理'},
                ]
            },
            'production': {
                name: '生产管理',
                modules: [
                    {name: '生产管理', url: '{% url "production_pages:project_list" %}', icon: 'fas fa-industry', desc: '生产计划与任务管理'},
                ]
            },
            'resource': {
                name: '资源调度',
                modules: [
                    {name: '资源管理', url: '{% url "resource_standard_pages:standard_list" %}', icon: 'fas fa-boxes', desc: '资源统一调度与管理'},
                ]
            },
            'risk': {
                name: '风险控制',
                modules: [
                    {name: '诉讼管理', url: '{% url "litigation_pages:litigation_home" %}', icon: 'fas fa-gavel', desc: '诉讼案件跟踪与管理'},
                ]
            },
            'finance': {
                name: '财务分析',
                modules: [
                    {name: '财务管理', url: '#', icon: 'fas fa-chart-line', desc: '财务报表与分析'},
                    {
                        name: '计划管理', 
                        url: '{% url "plan_pages:plan_management_home" %}', 
                        icon: 'fas fa-calendar-alt', 
                        desc: '管理计划、目标和审批流程',
                        links: [
                            {name: '目标列表', url: '{% url "plan_pages:strategic_goal_list" %}'},
                            {name: '创建目标', url: '{% url "plan_pages:strategic_goal_create" %}'},
                            {name: '目标分解', url: '{% url "plan_pages:strategic_goal_decompose_entry" %}'},
                            {name: '目标跟踪', url: '{% url "plan_pages:strategic_goal_track_entry" %}'},
                            {name: '计划列表', url: '{% url "plan_pages:plan_list" %}'},
                            {name: '创建计划', url: '{% url "plan_pages:plan_create" %}'},
                            {name: '计划审批', url: '{% url "plan_pages:plan_approval_list" %}'}
                        ]
                    },
                ]
            },
            'admin': {
                name: '行政办公',
                modules: [
                    {name: '人事管理', url: '{% url "personnel_pages:personnel_home" %}', icon: 'fas fa-user-tie', desc: '人事档案与考勤管理'},
                    {name: '行政管理', url: '{% url "admin_pages:administrative_home" %}', icon: 'fas fa-building', desc: '行政事务与办公管理'},
                ]
            },
        };
        
        // 场景切换函数
        function switchScenario(scenarioId) {
            // 获取内容区域元素
            const welcomeSection = document.querySelector('.welcome-section');
            const workScenarios = document.querySelector('.work-scenarios');
            // 更新侧边栏激活状态
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            const activeItem = document.querySelector(`[data-scenario="${scenarioId}"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }
            
            // 获取内容区域元素
            
            const quickAccess = document.querySelector('.quick-access');
            const systemStatus = document.querySelector('.system-status');
            const scenarioContainer = document.getElementById('scenario-modules-container');
            
            if (scenarioId === 'dashboard') {
                // 显示默认内容
                if (welcomeSection) welcomeSection.style.display = 'block';
                if (workScenarios) workScenarios.style.display = 'block';
                if (quickAccess) quickAccess.style.display = 'block';
                if (systemStatus) systemStatus.style.display = 'block';
                if (scenarioContainer) scenarioContainer.style.display = 'none';
            } else {
                // 隐藏默认内容
                if (welcomeSection) welcomeSection.style.display = 'none';
                if (workScenarios) workScenarios.style.display = 'none';
                if (quickAccess) quickAccess.style.display = 'none';
                if (systemStatus) systemStatus.style.display = 'none';
                
                // 显示场景模块
                if (scenarioContainer) {
                    const title = document.getElementById('scenario-modules-title');
                    const subtitle = document.getElementById('scenario-modules-subtitle');
                    const grid = document.getElementById('scenario-modules-grid');
                    
                    const scenario = scenarioModules[scenarioId];
                    if (scenario && title && subtitle && grid) {
                        title.textContent = scenario.name;
                        subtitle.textContent = '选择功能模块进入对应管理页面';
                        grid.innerHTML = '';
                        
                        scenario.modules.forEach(module => {
                            const card = document.createElement("div");
                            card.className = "scenario-module-card";
                            
                            let cardContent = `
                                <div class="scenario-module-card-icon">
                                    <i class="${module.icon}"></i>
                                </div>
                                <div class="scenario-module-card-title">${module.name}</div>
                                <div class="scenario-module-card-desc">${module.desc}</div>
                            `;
                            
                            // 如果有links数组，显示链接列表
                            if (module.links && module.links.length > 0) {
                                cardContent += "<div class=\"scenario-module-links\">";
                                module.links.forEach(link => {
                                    cardContent += `<a href="${link.url}" class="scenario-module-link">${link.name}</a>`;
                                });
                                cardContent += "</div>";
                            } else {
                                // 如果没有links，整个卡片可点击
                                card.style.cursor = "pointer";
                                card.onclick = function() {
                                    window.location.href = module.url;
                                };
                            }
                            
                            card.innerHTML = cardContent;
                            grid.appendChild(card);
                        });
                        
                        scenarioContainer.style.display = 'block';
                    }
                }
            }
        }
        
        // 绑定场景点击事件
        document.addEventListener('DOMContentLoaded', function() {
            // 绑定场景菜单项点击事件
            document.querySelectorAll('.menu-item[data-scenario]').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const scenarioId = this.getAttribute('data-scenario');
                    if (scenarioId) {
                        switchScenario(scenarioId);
                    }
                });
            });
        });
</script>
        
        