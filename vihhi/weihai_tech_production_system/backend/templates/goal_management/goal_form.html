{% extends "shared/create_form_base.html" %}


{% load static %}


{% block form_title %}创建战略目标

{% endblock %}


{% block form_subtitle %}请填写目标基本信息{% endblock %}


{% block form_first_row_extra_fields %}
{% endblock %}


{% block form_fields %}

  {# 第一排 - 5个字段：目标名称、目标层级、目标类型、目标周期、目标状态 #}
  <div class="row mb-3 form-row-5">
    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.name.id_for_label }}" class="form-label">
        {{ form.name.label }}
        {% if form.name.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.name }}
      {% if form.name.errors %}
      <div class="text-danger small">{{ form.name.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.level.id_for_label }}" class="form-label">
        {{ form.level.label }}
        {% if form.level.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.level }}
      {% if form.level.errors %}
      <div class="text-danger small">{{ form.level.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.goal_type.id_for_label }}" class="form-label">
        {{ form.goal_type.label }}
        {% if form.goal_type.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.goal_type }}
      {% if form.goal_type.errors %}
      <div class="text-danger small">{{ form.goal_type.errors }}</div>
      {% endif %}
    </div>


    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.goal_period.id_for_label }}" class="form-label">
        {{ form.goal_period.label }}
        {% if form.goal_period.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.goal_period }}
      {% if form.goal_period.errors %}
      <div class="text-danger small">{{ form.goal_period.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.status.id_for_label }}" class="form-label">
        {{ form.status.label }}
        {% if form.status.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.status }}
      {% if form.status.errors %}
      <div class="text-danger small">{{ form.status.errors }}</div>
      {% endif %}
    </div>
  </div>

  {# 第二排 - 5个字段：目标指标名称、指标类型、指标单位、目标值、当前值 #}
  <div class="row mb-3 form-row-5">
    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.indicator_name.id_for_label }}" class="form-label">
        {{ form.indicator_name.label }}
        {% if form.indicator_name.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.indicator_name }}
      {% if form.indicator_name.errors %}
      <div class="text-danger small">{{ form.indicator_name.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.indicator_type.id_for_label }}" class="form-label">
        {{ form.indicator_type.label }}
        {% if form.indicator_type.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.indicator_type }}
      {% if form.indicator_type.errors %}
      <div class="text-danger small">{{ form.indicator_type.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.indicator_unit.id_for_label }}" class="form-label">
        {{ form.indicator_unit.label }}
      </label>
      {{ form.indicator_unit }}
      {% if form.indicator_unit.errors %}
      <div class="text-danger small">{{ form.indicator_unit.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.target_value.id_for_label }}" class="form-label">
        {{ form.target_value.label }}
        {% if form.target_value.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.target_value }}
      {% if form.target_value.errors %}
      <div class="text-danger small">{{ form.target_value.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.current_value.id_for_label }}" class="form-label">
        {{ form.current_value.label }}
      </label>
      {{ form.current_value }}
      {% if form.current_value.errors %}
      <div class="text-danger small">{{ form.current_value.errors }}</div>
      {% endif %}
    </div>
  </div>

  {# 第三排 - 5个字段：开始日期、结束日期、上级目标 + 2个占位 #}
  <div class="row mb-3 form-row-5">
    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.start_date.id_for_label }}" class="form-label">
        {{ form.start_date.label }}
        {% if form.start_date.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.start_date }}
      {% if form.start_date.errors %}
      <div class="text-danger small">{{ form.start_date.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.end_date.id_for_label }}" class="form-label">
        {{ form.end_date.label }}
        {% if form.end_date.field.required %}<span class="text-danger">*</span>{% endif %}
      </label>
      {{ form.end_date }}
      {% if form.end_date.errors %}
      <div class="text-danger small">{{ form.end_date.errors }}</div>
      {% endif %}
    </div>

    <div class="col-5-fields form-field-wrapper">
      <label for="{{ form.parent_goal.id_for_label }}" class="form-label">
        {{ form.parent_goal.label }}
      </label>
      {{ form.parent_goal }}
      {% if form.parent_goal.errors %}
      <div class="text-danger small">{{ form.parent_goal.errors }}</div>
      {% endif %}
    </div>

    {# 占位字段4 #}
    <div class="col-5-fields form-field-wrapper"></div>

    {# 占位字段5 #}
    <div class="col-5-fields form-field-wrapper"></div>
  </div>


{% endblock %}


{% block form_actions %}


  <button type="submit" class="btn btn-primary">创建</button>


  <a href="{% url 'plan_pages:strategic_goal_list' %}" class="btn btn-secondary">取消</a>


{% endblock %}


{% block module_extra_js %}


{{ block.super }}


<script src="{% static 'js/goal_form_date_calculator.js' %}"></script>


{% endblock %}
