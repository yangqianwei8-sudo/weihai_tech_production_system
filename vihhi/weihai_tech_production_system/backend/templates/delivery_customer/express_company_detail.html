{% extends "delivery_customer/base.html" %}
{% load static %}

{% block title %}å¿«é€’å…¬å¸è¯¦æƒ… - ç»´æµ·ç§‘æŠ€ä¿¡æ¯åŒ–ç®¡ç†å¹³å°{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item"><a href="{% url 'delivery_pages:report_delivery' %}">æ”¶å‘ç®¡ç†</a></li>
<li class="breadcrumb-item"><a href="{% url 'delivery_pages:express_company_list' %}">å¿«é€’å…¬å¸åˆ—è¡¨</a></li>
<li class="breadcrumb-item active" aria-current="page">{{ company.name }}</li>
{% endblock %}

{% block content %}
<div class="container-fluid">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">ğŸšš å¿«é€’å…¬å¸è¯¦æƒ…</h2>
            <p class="text-muted mb-0">{{ company.name }}</p>
        </div>
        <div>
            <a href="{% url 'delivery_pages:express_company_list' %}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> è¿”å›åˆ—è¡¨
            </a>
            {% if can_edit %}
            <a href="{% url 'delivery_pages:express_company_edit' company.id %}" class="btn btn-primary">
                <i class="bi bi-pencil"></i> ç¼–è¾‘
            </a>
            <a href="{% url 'delivery_pages:express_company_delete' company.id %}"
               class="btn btn-danger"
               onclick="return confirm('ç¡®å®šè¦åˆ é™¤å¿«é€’å…¬å¸\"{{ company.name }}\"å—ï¼Ÿ');">
                <i class="bi bi-trash"></i> åˆ é™¤
            </a>
            {% endif %}
        </div>
    </div>

    <div class="info-card info-card-fade-in mb-4">
        <div class="info-card-header">
            <h5 class="info-card-title">åŸºæœ¬ä¿¡æ¯</h5>
        </div>
        <div class="info-card-body">
            <div class="info-grid info-grid-2">
                <div class="info-item">
                    <span class="info-label">å¿«é€’å…¬å¸åç§°</span>
                    <span class="info-value">
                        <strong>{{ company.name }}</strong>
                        {% if company.is_default %}
                            <span class="badge bg-warning text-dark ms-2">é»˜è®¤</span>
                        {% endif %}
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">çŠ¶æ€</span>
                    <span class="info-value">
                        {% if company.is_active %}
                            <span class="badge bg-success">å¯ç”¨</span>
                        {% else %}
                            <span class="badge bg-danger">ç¦ç”¨</span>
                        {% endif %}
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">å¿«é€’å…¬å¸ä»£ç </span>
                    <span class="info-value">
                        {% if company.code %}
                            <code>{{ company.code }}</code>
                        {% else %}
                            <span class="text-muted">æœªè®¾ç½®</span>
                        {% endif %}
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ’åº</span>
                    <span class="info-value">{{ company.sort_order }}</span>
                </div>
                {% if company.alias %}
                <div class="info-item info-item-full-width">
                    <span class="info-label">åˆ«å</span>
                    <span class="info-value">
                        {% for alias in company.get_aliases_list %}
                            <span class="badge bg-secondary me-1">{{ alias }}</span>
                        {% endfor %}
                    </span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="info-card info-card-fade-in mb-4">
        <div class="info-card-header">
            <h5 class="info-card-title">è”ç³»æ–¹å¼</h5>
        </div>
        <div class="info-card-body">
            <div class="info-grid info-grid-2">
                {% if company.contact_phone %}
                <div class="info-item">
                    <span class="info-label">è”ç³»ç”µè¯</span>
                    <span class="info-value">
                        <a href="tel:{{ company.contact_phone }}">{{ company.contact_phone }}</a>
                    </span>
                </div>
                {% endif %}
                {% if company.contact_email %}
                <div class="info-item">
                    <span class="info-label">è”ç³»é‚®ç®±</span>
                    <span class="info-value">
                        <a href="mailto:{{ company.contact_email }}">{{ company.contact_email }}</a>
                    </span>
                </div>
                {% endif %}
                {% if company.website %}
                <div class="info-item info-item-full-width">
                    <span class="info-label">å®˜ç½‘</span>
                    <span class="info-value">
                        <a href="{{ company.website }}" target="_blank" rel="noopener noreferrer">
                            {{ company.website }}
                            <i class="bi bi-box-arrow-up-right ms-1"></i>
                        </a>
                    </span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="info-card info-card-fade-in mb-4">
        <div class="info-card-header">
            <h5 class="info-card-title">ä½¿ç”¨ç»Ÿè®¡</h5>
        </div>
        <div class="info-card-body">
            <div class="info-grid info-grid-2">
                <div class="info-item">
                    <span class="info-label">ä½¿ç”¨æ¬¡æ•°</span>
                    <span class="info-value">
                        <strong>{{ usage_count }}</strong> æ¬¡
                    </span>
                </div>
            </div>
        </div>
    </div>

    {% if company.notes %}
    <div class="info-card info-card-fade-in mb-4">
        <div class="info-card-header">
            <h5 class="info-card-title">å¤‡æ³¨</h5>
        </div>
        <div class="info-card-body">
            <div class="info-item info-item-full-width">
                <span class="info-value">{{ company.notes|linebreaks }}</span>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="info-card info-card-fade-in">
        <div class="info-card-header">
            <h5 class="info-card-title">æ—¶é—´ä¿¡æ¯</h5>
        </div>
        <div class="info-card-body">
            <div class="info-grid info-grid-2">
                <div class="info-item">
                    <span class="info-label">åˆ›å»ºæ—¶é—´</span>
                    <span class="info-value">{{ company.created_at|date:"Y-m-d H:i:s" }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ›´æ–°æ—¶é—´</span>
                    <span class="info-value">{{ company.updated_at|date:"Y-m-d H:i:s" }}</span>
                </div>
                {% if company.created_by %}
                <div class="info-item">
                    <span class="info-label">åˆ›å»ºäºº</span>
                    <span class="info-value">{{ company.created_by.get_full_name|default:company.created_by.username }}</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
