{% extends "shared/two_column_layout_base.html" %}
{% load static %}

{% block title %}维海科技信息化管理平台 · 我的工作台{% endblock %}

{% block sidebar_width %}232px{% endblock %}

{% block sidebar_content %}
  {# 使用home.html中定义的侧边栏 #}
  <aside class="vh-sb" aria-label="左侧栏（全屏固定）">
    <div class="vh-sb__top">
      <div class="vh-sb__topInner">
        <div class="vh-sb__titleWrap">
          <div class="vh-sb__title">系统总工作台</div>
          <div class="vh-sb__sub">System Dashboard</div>
        </div>
      </div>
    </div>

    <nav class="vh-sb__nav">
      <div class="vh-sb__group">
        <div class="vh-sb__gtitle">功能模块</div>
        {% for menu_item in centers_navigation %}
        {% if menu_item.children %}
        <div class="vh-sb__parent">
          <a href="{{ menu_item.url }}" class="vh-sb__item vh-sb__item--parent {% if request.path == menu_item.url or request.path|slice:":20" == menu_item.url|slice:":20" %}is-active{% endif %}">
            <span class="vh-sb__icon">{{ menu_item.icon|default:"▢" }}</span>
            <span class="vh-sb__label">{{ menu_item.label }}</span>
          </a>
          <div class="vh-sb__children">
            {% for child in menu_item.children %}
            <a href="{{ child.url }}" class="vh-sb__child {% if request.path == child.url %}is-active{% endif %}">
              <span class="vh-sb__icon">{{ child.icon|default:"·" }}</span>
              <span class="vh-sb__label">{{ child.label }}</span>
            </a>
            {% endfor %}
          </div>
        </div>
        {% else %}
        <a href="{{ menu_item.url }}" class="vh-sb__item {% if request.path == menu_item.url %}is-active{% endif %}">
          <span class="vh-sb__icon">{{ menu_item.icon|default:"▢" }}</span>
          <span class="vh-sb__label">{{ menu_item.label }}</span>
        </a>
        {% endif %}
        {% endfor %}
      </div>

      <div class="vh-sb__group">
        <a href="{% url 'admin:index' %}" class="vh-sb__item">
          <span class="vh-sb__icon">⚙️</span>
          <span class="vh-sb__label">管理后台</span>
        </a>
      </div>
    </nav>

    <div class="vh-sb__bottom">
      <div class="vh-sb__mini">帮助</div>
      <div class="vh-sb__mini">设置</div>
      <div class="vh-sb__mini">反馈</div>
    </div>
  </aside>
{% endblock %}

{% block top_nav %}
  {% include "shared/_top_nav.html" %}
{% endblock %}


{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/components/navigation.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/list_layout.css' %}">
<link rel="stylesheet" href="{% static 'css/components/sidebar_v2_fixed.css' %}">
{% block home_extra_css %}
<style>
  body {
    padding-top: 56px;
  }
  /* 样式已清空，等待重新设计 */
</style>
{% endblock %}
{% endblock %}

{% block content %}
  
    {% block welcome_card %}
  {# 欢迎卡片已清空，等待重新设计 #}
{% endblock %}

  {# 主内容区域 #}
  <main class="two-col-main">
    <div class="two-col-content">
      {% block content_inner %}
      {% endblock %}
    </div>
  </main>
{% endblock %}



{% block extra_js %}
  {# JavaScript已清空，等待重新设计 #}
{% endblock %}