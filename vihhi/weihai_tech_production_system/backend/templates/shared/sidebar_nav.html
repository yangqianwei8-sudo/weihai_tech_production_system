{% comment %}
标准左侧导航栏模板片段
按照"左侧经典导航栏设计方案"实现

使用方式：
{% include 'shared/sidebar_nav.html' with menu_items=sidebar_menu section_title="功能模块" %}

参数说明：
- menu_items: 菜单项列表，每个菜单项包含：
    - id: 菜单项ID
    - label: 菜单标签
    - icon: 图标（可选）
    - url: 链接地址
    - active: 是否激活（布尔值）
    - children: 子菜单项列表（可选）
- section_title: 分区标题（可选）
{% endcomment %}

<aside class="workspace-nav">
    <nav class="sidenav">
        <div class="sidenav-section">
            {% if section_title %}
            <div class="sidenav-title">{{ section_title }}</div>
            {% endif %}
            <div class="sidenav-links">
                {% for menu_item in menu_items %}
                    {% if menu_item.children %}
                        <!-- 有子菜单的一级菜单项 -->
                        <div class="sidenav-item {% if menu_item.active or menu_item.expanded %}expanded{% endif %}">
                            <a class="sidenav-link" 
                               href="{{ menu_item.url|default:'#' }}" 
                               {% if menu_item.active %}data-active="true"{% endif %}>
                                {% if menu_item.icon %}<span>{{ menu_item.icon }}</span>{% endif %}
                                <span>{{ menu_item.label }}</span>
                                <span class="menu-arrow">▶</span>
                            </a>
                            <div class="submenu">
                                {% for child in menu_item.children %}
                                    <a class="sidenav-link sidenav-sub-link" 
                                       href="{{ child.url|default:'#' }}" 
                                       {% if child.active %}data-active="true"{% endif %}>
                                        {% if child.icon %}<span>{{ child.icon }}</span>{% endif %}
                                        <span>{{ child.label }}</span>
                                    </a>
                                {% endfor %}
                            </div>
                        </div>
                    {% else %}
                        <!-- 无子菜单的一级菜单项 -->
                        <a class="sidenav-link" 
                           href="{{ menu_item.url|default:'#' }}" 
                           {% if menu_item.active %}data-active="true"{% endif %}>
                            {% if menu_item.icon %}<span>{{ menu_item.icon }}</span>{% endif %}
                            <span>{{ menu_item.label }}</span>
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </nav>
</aside>
