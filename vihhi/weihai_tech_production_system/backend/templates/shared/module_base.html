{% extends "shared/two_column_layout_base.html" %}
{% load static %}

{% block module_title %}模块名称{% endblock %}
{% block title %}模块名称 - 维海生产系统{% endblock %}

{% block sidebar_width %}{% block module_sidebar_width %}232px{% endblock %}{% endblock %}

{% block sidebar_content %}
  {% block module_sidebar %}
    {% include "shared/sidebar_v2_wireframe_fixed.html" %}
    {% block module_sidebar_extra %}{% endblock %}
  {% endblock %}
{% endblock %}


{% block extra_head %}
  {{ block.super }}
  
  {% block module_base_styles %}
    <link rel="stylesheet" href="{% static 'css/components/sidebar_legacy_hide.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/list_layout.css' %}">
    <link rel="stylesheet" href="{% static 'css/components/pm_page_header.css' %}">
  {% endblock %}

  {% block module_styles %}{% endblock %}

  {% block module_sidebar_styles %}
    <style>
      /* 示例：使用 CSS 变量覆盖共享样式 */
      /* :root {
        --module-sidebar-bg: var(--vh-surface, #F6F7FD);
      } */

      /* 示例：使用模块特定的命名空间 */
      /* .module-sidebar-custom {
        padding: 8px;
        background: var(--vh-surface, #F6F7FD);
      } */
    </style>
  {% endblock %}

  {% block module_page_header_styles %}
    <style>
      .pm-page-header .pm-page-header-title-wrapper {
        position: relative !important;
        display: flex !important;
        align-items: flex-end !important;
        gap: 12px !important;
        flex: 1 !important;
        min-width: 0 !important;
        padding-bottom: 8px !important;
        margin-bottom: 8px !important;
      }

      .pm-page-header .pm-page-header-title-wrapper h1 {
        font-size: 24px !important;
        font-weight: 600 !important;
        color: var(--vh-text, #1F2937) !important;
        margin: 0 !important;
        padding: 0 0 4px 0 !important;
        display: inline-block !important;
        position: relative !important;
        line-height: 1.2 !important;
      }

      .pm-page-header .pm-page-header-title-wrapper .pm-subtitle {
        font-size: 12px !important;
        color: var(--vh-text-muted, #6B7280) !important;
        margin: 0 !important;
        padding: 0 0 4px 0 !important;
        white-space: nowrap !important;
        font-weight: 400 !important;
        display: inline-block !important;
        line-height: 1.2 !important;
        border-bottom: none !important;
        text-decoration: none !important;
        border-bottom-width: 0 !important;
        border-bottom-style: none !important;
        border-bottom-color: transparent !important;
        text-decoration-line: none !important;
        text-decoration-style: none !important;
        text-decoration-color: transparent !important;
      }

      .pm-page-header .pm-page-header-title-wrapper .pm-subtitle span {
        display: inline !important;
        border-bottom: none !important;
        text-decoration: none !important;
        border-bottom-width: 0 !important;
        border-bottom-style: none !important;
        border-bottom-color: transparent !important;
        text-decoration-line: none !important;
        text-decoration-style: none !important;
        text-decoration-color: transparent !important;
      }

      .pm-page-header .pm-actions {
        flex-shrink: 0 !important;
        margin-left: 16px !important;
        align-self: flex-end !important;
        padding-bottom: 0 !important;
        margin-bottom: 20px !important;
        border-bottom: none !important;
      }

      .two-col-main {
        background: transparent !important;
      }

      .two-col-content {
        padding-top: 0 !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        padding-bottom: 0 !important;
      }

      {% block module_content_wrapper_styles %}
      .module-content-wrapper {
        padding: 8px 8px 24px 8px;
      }
      {% endblock module_content_wrapper_styles %}
    </style>
  {% endblock %}

  {% block module_extra_css %}{% endblock %}
{% endblock extra_head %}

{% block extra_js %}
  {{ block.super }}
  
  {% block module_base_scripts %}
    <script src="{% static 'js/pm_page_header_fix.js' %}"></script>
  {% endblock %}

  {% block module_scripts %}{% endblock %}

  {% block module_extra_js %}{% endblock %}
{% endblock extra_js %}

{% block content %}
  <div class="two-col-content">
    {% block page_header %}
      <div class="d-flex align-items-end justify-content-between mb-4">
        <div>
          <h1 class="h3 mb-2">
            {% block page_title %}
              {% block pm_title %}{% endblock pm_title %}
            {% endblock page_title %}
          </h1>
          {% block page_subtitle %}
            {% block pm_subtitle %}{% endblock pm_subtitle %}
          {% endblock page_subtitle %}
        </div>
        <div class="d-flex gap-2">
          {% block page_actions %}
            {% block pm_actions %}{% endblock pm_actions %}
          {% endblock page_actions %}
        </div>
      </div>
    {% endblock page_header %}

    {% block content_inner %}
      <div class="{% block module_content_wrapper_class %}module-content-wrapper{% endblock %}">
        {% block pm_content %}{% endblock pm_content %}
      </div>
    {% endblock content_inner %}
  </div>
{% endblock content %}
