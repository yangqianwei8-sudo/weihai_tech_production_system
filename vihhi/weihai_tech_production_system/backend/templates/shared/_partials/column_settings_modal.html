{% comment %}
列设置模态框模板

使用方法：
{% include 'shared/_partials/column_settings_modal.html' with 
    modal_id='fieldsSettingsModal'
    all_fields=all_fields
    storage_key='table_columns'
%}

参数说明：
- modal_id: 模态框ID（默认：'fieldsSettingsModal'）
- all_fields: 所有可用字段定义列表（必需）
- storage_key: localStorage存储键名（默认：'table_columns'）
- required_columns: 必选列列表（默认：['column-checkbox', 'column-actions']）
{% endcomment %}

<div class="modal fade" id="{% if modal_id %}{{ modal_id }}{% else %}fieldsSettingsModal{% endif %}" tabindex="-1" aria-labelledby="{% if modal_id %}{{ modal_id }}{% else %}fieldsSettingsModal{% endif %}Label" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="{% if modal_id %}{{ modal_id }}{% else %}fieldsSettingsModal{% endif %}Label">自定义显示列</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="mb-3">已显示的列</h6>
                        <div id="displayedFields" class="border rounded p-3" style="min-height: 200px; max-height: 400px; overflow-y: auto;">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h6 class="mb-3">可用的列</h6>
                        <div id="availableFields" class="border rounded p-3" style="min-height: 200px; max-height: 400px; overflow-y: auto;">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="saveFieldsSettings">保存</button>
                <button type="button" class="btn btn-outline-secondary" id="resetFieldsSettings">重置</button>
            </div>
        </div>
    </div>
</div>
