# å·¦ä¾§å¯¼èˆªæ æ–°è®¾è®¡æ–¹æ¡ˆå®æ–½æ€»ç»“

## ä¸€ã€å®æ–½æ–¹æ¡ˆæ¦‚è¿°

æ ¹æ®"å·¦ä¾§ç»å…¸å¯¼èˆªæ è®¾è®¡æ–¹æ¡ˆ"ï¼Œå·²å®Œæˆä»¥ä¸‹å·¥ä½œï¼š

### 1. CSSæ ·å¼æ›´æ–° âœ…

**æ–‡ä»¶ä½ç½®**: `backend/static/css/layouts/workspace.css`

**ä¸»è¦æ›´æ–°å†…å®¹**:
- å¯¼èˆªæ å®½åº¦ï¼šå±•å¼€240pxï¼ŒæŠ˜å 80px
- èœå•é¡¹é«˜åº¦ï¼š44-52pxï¼ˆé€šè¿‡paddingæ§åˆ¶ï¼‰
- ä¸€çº§èœå•å­—ä½“ï¼š15pxï¼Œä¸­ç­‰å­—é‡ï¼ˆfont-weight: 500ï¼‰
- äºŒçº§èœå•å­—ä½“ï¼š14pxï¼Œå¸¸è§„å­—é‡ï¼Œç¼©è¿›44px
- å›¾æ ‡å°ºå¯¸ï¼š18px
- èœå•é¡¹é—´è·ï¼š4pxå‚ç›´é—´è·
- å­èœå•äº¤äº’ï¼šæ”¹ä¸ºç‚¹å‡»å±•å¼€/æ”¶èµ·ï¼ˆä¸å†ä½¿ç”¨hoverï¼‰
- æ¿€æ´»çŠ¶æ€ï¼šä½¿ç”¨èƒŒæ™¯è‰²+ä¸»è‰²æ–‡å­—ï¼Œæ— å·¦ä¾§æŒ‡ç¤ºæ¡

### 2. JavaScriptåŠŸèƒ½å®ç° âœ…

**æ–‡ä»¶ä½ç½®**: `backend/static/js/sidebar.js`

**å®ç°åŠŸèƒ½**:
- ç‚¹å‡»ä¸€çº§èœå•ï¼ˆæœ‰å­èœå•ï¼‰ï¼šå±•å¼€/æ”¶èµ·å­èœå•
- ç‚¹å‡»ä¸€çº§èœå•ï¼ˆæ— å­èœå•ï¼‰ï¼šæ­£å¸¸è·³è½¬
- è‡ªåŠ¨å±•å¼€åŒ…å«æ¿€æ´»é¡¹çš„å­èœå•
- å¯¼èˆªæ æŠ˜å /å±•å¼€åŠŸèƒ½ï¼ˆå¯é€‰ï¼Œæ”¯æŒlocalStorageä¿å­˜çŠ¶æ€ï¼‰

### 3. æ ‡å‡†æ¨¡æ¿ç‰‡æ®µ âœ…

**æ–‡ä»¶ä½ç½®**: `backend/templates/shared/sidebar_nav.html`

**ä½¿ç”¨æ–¹å¼**:
```django
{% include 'shared/sidebar_nav.html' with menu_items=sidebar_menu section_title="åŠŸèƒ½æ¨¡å—" %}
```

### 4. äº¤ä»˜ç®¡ç†æ¨¡å—æ”¹é€  âœ…

**æ–‡ä»¶ä½ç½®**: `backend/templates/delivery_customer/base.html`

**æ”¹é€ å†…å®¹**:
- âœ… HTMLç»“æ„æ›´æ–°ä¸ºæ ‡å‡†æ ¼å¼ï¼ˆ`sidenav-item` + `submenu`ï¼‰
- âœ… æ¿€æ´»æ ‡è®°æ”¹ä¸º `data-active="true"` å±æ€§
- âœ… ç§»é™¤é¢å¤–ç±»åï¼ˆ`delivery-sidebar`ã€`delivery-nav` ç­‰ï¼‰
- âœ… æ¸…ç†è‡ªå®šä¹‰æ ·å¼ï¼ˆåˆ é™¤è¦†ç›–æ ‡å‡†æ ·å¼çš„CSSï¼‰
- âœ… æ·»åŠ JavaScriptå¼•ç”¨

## äºŒã€è®¾è®¡è§„èŒƒå¯¹ç…§

| è®¾è®¡è§„èŒƒ | å®ç°çŠ¶æ€ | è¯´æ˜ |
|---------|---------|------|
| å¯¼èˆªæ å®½åº¦ï¼ˆå±•å¼€ï¼‰ | âœ… 240px | ç¬¦åˆ240-280pxèŒƒå›´ |
| å¯¼èˆªæ å®½åº¦ï¼ˆæŠ˜å ï¼‰ | âœ… 80px | ç¬¦åˆ60-80pxèŒƒå›´ |
| èœå•é¡¹é«˜åº¦ | âœ… 44px | ç¬¦åˆ44-52pxèŒƒå›´ |
| ä¸€çº§èœå•å­—ä½“ | âœ… 15px | ç¬¦åˆ14-16pxèŒƒå›´ |
| äºŒçº§èœå•å­—ä½“ | âœ… 14px | ç¬¦åˆ13-15pxèŒƒå›´ |
| å›¾æ ‡å°ºå¯¸ | âœ… 18px | ç¬¦åˆ18-20pxèŒƒå›´ |
| èœå•é¡¹é—´è· | âœ… 4px | ç¬¦åˆ4-8pxèŒƒå›´ |
| ä¸€çº§èœå•å·¦ä¾§å†…è¾¹è· | âœ… 16px | ç¬¦åˆ16-20pxèŒƒå›´ |
| äºŒçº§èœå•ç¼©è¿› | âœ… 44px | ç¬¦åˆ20-24pxèŒƒå›´ï¼ˆä¸€çº§20px+äºŒçº§24pxï¼‰ |
| å­èœå•äº¤äº’ | âœ… ç‚¹å‡»å±•å¼€ | ç¬¦åˆè®¾è®¡è¦æ±‚ |
| æ¿€æ´»çŠ¶æ€è§†è§‰ | âœ… èƒŒæ™¯è‰²+ä¸»è‰²æ–‡å­— | ç¬¦åˆè®¾è®¡è¦æ±‚ |
| åŠ¨ç”»è¿‡æ¸¡ | âœ… 0.2s | ç¬¦åˆ0.15-0.25sèŒƒå›´ |

## ä¸‰ã€HTMLç»“æ„æ ‡å‡†

### æ ‡å‡†ç»“æ„

```html
<aside class="workspace-nav">
    <nav class="sidenav">
        <div class="sidenav-section">
            <div class="sidenav-title">åŠŸèƒ½æ¨¡å—</div> <!-- å¯é€‰ -->
            <div class="sidenav-links">
                <!-- æœ‰å­èœå•çš„ä¸€çº§èœå•é¡¹ -->
                <div class="sidenav-item expanded">
                    <a class="sidenav-link" href="#" data-active="true">
                        <span>å›¾æ ‡</span>
                        <span>èœå•æ ‡ç­¾</span>
                        <span class="menu-arrow">â–¶</span>
                    </a>
                    <div class="submenu">
                        <a class="sidenav-link sidenav-sub-link" href="#" data-active="true">
                            <span>å›¾æ ‡</span>
                            <span>å­èœå•æ ‡ç­¾</span>
                        </a>
                    </div>
                </div>
                
                <!-- æ— å­èœå•çš„ä¸€çº§èœå•é¡¹ -->
                <a class="sidenav-link" href="#" data-active="true">
                    <span>å›¾æ ‡</span>
                    <span>èœå•æ ‡ç­¾</span>
                </a>
            </div>
        </div>
    </nav>
</aside>
```

### å…³é”®ç±»å

- `workspace-nav`: å¯¼èˆªæ å®¹å™¨
- `sidenav`: å¯¼èˆªæ ä¸»ä½“
- `sidenav-section`: åˆ†åŒºå®¹å™¨
- `sidenav-title`: åˆ†åŒºæ ‡é¢˜
- `sidenav-links`: é“¾æ¥å®¹å™¨
- `sidenav-item`: æœ‰å­èœå•çš„é¡¹ï¼ˆéœ€æ·»åŠ  `expanded` ç±»å±•å¼€ï¼‰
- `sidenav-link`: é“¾æ¥æ ·å¼
- `sidenav-sub-link`: å­èœå•é“¾æ¥æ ·å¼
- `submenu`: å­èœå•å®¹å™¨
- `menu-arrow`: å±•å¼€/æ”¶èµ·æŒ‡ç¤ºå™¨

### æ¿€æ´»çŠ¶æ€æ ‡è®°

ä½¿ç”¨ `data-active="true"` å±æ€§ï¼ˆä¸ä½¿ç”¨ `active` ç±»åï¼‰

```html
<a class="sidenav-link" href="#" data-active="true">...</a>
```

## å››ã€åç«¯æ•°æ®ç»“æ„è¦æ±‚

èœå•é¡¹æ•°æ®ç»“æ„åº”åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```python
{
    'id': 'menu_id',              # èœå•é¡¹ID
    'label': 'èœå•æ ‡ç­¾',           # èœå•æ ‡ç­¾
    'icon': 'ğŸ“‹',                 # å›¾æ ‡ï¼ˆå¯é€‰ï¼‰
    'url': '/path/to/page',       # é“¾æ¥åœ°å€ï¼ˆå¯é€‰ï¼Œæœ‰å­èœå•æ—¶å¯ä¸ºç©ºï¼‰
    'active': True,               # æ˜¯å¦æ¿€æ´»ï¼ˆå¸ƒå°”å€¼ï¼‰
    'expanded': True,             # æ˜¯å¦å±•å¼€ï¼ˆå¸ƒå°”å€¼ï¼Œæœ‰å­èœå•æ—¶ä½¿ç”¨ï¼‰
    'children': [                 # å­èœå•åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰
        {
            'id': 'child_id',
            'label': 'å­èœå•æ ‡ç­¾',
            'icon': 'ğŸ“„',
            'url': '/path/to/child',
            'active': False,
        }
    ]
}
```

## äº”ã€åç»­å·¥ä½œå»ºè®®

### 1. å…¶ä»–æ¨¡å—æ”¹é€ 

æŒ‰ç…§äº¤ä»˜ç®¡ç†æ¨¡å—çš„æ”¹é€ æ–¹å¼ï¼Œé€æ­¥æ”¹é€ å…¶ä»–æ¨¡å—ï¼š

- [ ] å®¢æˆ·ç®¡ç†ï¼ˆcustomer_managementï¼‰
- [ ] ç”Ÿäº§ç®¡ç†ï¼ˆproduction_managementï¼‰
- [ ] è´¢åŠ¡ç®¡ç†ï¼ˆfinancial_managementï¼‰
- [ ] äººäº‹ç®¡ç†ï¼ˆpersonnel_managementï¼‰
- [ ] è¡Œæ”¿ç®¡ç†ï¼ˆadministrative_managementï¼‰
- [ ] è®¡åˆ’ç®¡ç†ï¼ˆplan_managementï¼‰
- [ ] è¯‰è®¼ç®¡ç†ï¼ˆlitigation_managementï¼‰
- [ ] å…¶ä»–æ¨¡å—

### 2. æ”¹é€ æ­¥éª¤ï¼ˆæ¯ä¸ªæ¨¡å—ï¼‰

1. **æ›´æ–°HTMLç»“æ„**
   - å°† `sidenav-group` æ”¹ä¸º `sidenav-item`
   - å°† `sidenav-group-children` æ”¹ä¸º `submenu`
   - å°† `sidenav-group-header` åˆå¹¶åˆ°çˆ¶èœå•é¡¹

2. **ç»Ÿä¸€æ¿€æ´»æ ‡è®°**
   - å°† `class="... active"` æ”¹ä¸º `data-active="true"`

3. **ç§»é™¤é¢å¤–ç±»å**
   - ç§»é™¤æ¨¡å—ç‰¹å®šçš„ç±»åï¼ˆå¦‚ `delivery-sidebar`ï¼‰

4. **æ¸…ç†è‡ªå®šä¹‰æ ·å¼**
   - åˆ é™¤è¦†ç›–æ ‡å‡†æ ·å¼çš„CSSè§„åˆ™

5. **æ·»åŠ JavaScriptå¼•ç”¨**
   ```html
   <script src="{% static 'js/sidebar.js' %}"></script>
   ```

6. **æµ‹è¯•éªŒè¯**
   - å¯¼èˆªæ æ˜¾ç¤ºæ­£å¸¸
   - å­èœå•å±•å¼€/æ”¶èµ·æ­£å¸¸
   - æ¿€æ´»çŠ¶æ€æ˜¾ç¤ºæ­£ç¡®
   - å“åº”å¼å¸ƒå±€æ­£å¸¸

### 3. å¯é€‰åŠŸèƒ½

- [ ] å¯¼èˆªæ æŠ˜å /å±•å¼€åŠŸèƒ½ï¼ˆå·²å®ç°ï¼Œä½†éœ€è¦UIæ§åˆ¶æŒ‰é’®ï¼‰
- [ ] å­èœå•å±•å¼€æ—¶è‡ªåŠ¨æ”¶èµ·å…¶ä»–å­èœå•ï¼ˆå¯é€‰ï¼Œä»£ç ä¸­å·²æ³¨é‡Šï¼‰
- [ ] å“åº”å¼é€‚é…ï¼ˆç§»åŠ¨ç«¯ä½¿ç”¨æ±‰å ¡èœå•ï¼‰

## å…­ã€æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç ´åç°æœ‰åŠŸèƒ½**ï¼šæ”¹é€ æ—¶è¦ç¡®ä¿æ‰€æœ‰åŠŸèƒ½ä»ç„¶æ­£å¸¸å·¥ä½œ
2. **ä¿æŒæ•°æ®ç»“æ„ä¸€è‡´**ï¼šç¡®ä¿åç«¯è¿”å›çš„æ•°æ®ç»“æ„ç¬¦åˆæ ‡å‡†æ ¼å¼
3. **æ¸è¿›å¼æ”¹é€ **ï¼šå»ºè®®ä¸€ä¸ªæ¨¡å—ä¸€ä¸ªæ¨¡å—åœ°æ”¹é€ å’Œæµ‹è¯•
4. **å……åˆ†æµ‹è¯•**ï¼šæ¯ä¸ªæ¨¡å—æ”¹é€ åéƒ½è¦è¿›è¡Œå®Œæ•´çš„åŠŸèƒ½æµ‹è¯•

## ä¸ƒã€æ–‡ä»¶æ¸…å•

### å·²åˆ›å»º/ä¿®æ”¹çš„æ–‡ä»¶

1. âœ… `backend/static/css/layouts/workspace.css` - CSSæ ·å¼æ›´æ–°
2. âœ… `backend/static/js/sidebar.js` - JavaScriptåŠŸèƒ½
3. âœ… `backend/templates/shared/sidebar_nav.html` - æ ‡å‡†æ¨¡æ¿ç‰‡æ®µ
4. âœ… `backend/templates/delivery_customer/base.html` - äº¤ä»˜ç®¡ç†æ¨¡å—æ”¹é€ 

### éœ€è¦æ”¹é€ çš„æ–‡ä»¶

1. `backend/templates/customer_management/base.html`
2. `backend/templates/production_management/base.html`
3. `backend/templates/financial_management/base.html`
4. `backend/templates/personnel_management/base.html`
5. `backend/templates/administrative_management/base.html`
6. å…¶ä»–æ¨¡å—çš„ `base.html` æ–‡ä»¶

---

**å®æ–½æ—¥æœŸ**: 2025å¹´1æœˆ
**å®æ–½äººå‘˜**: AI Assistant
**è®¾è®¡æ–¹æ¡ˆç‰ˆæœ¬**: å·¦ä¾§ç»å…¸å¯¼èˆªæ è®¾è®¡æ–¹æ¡ˆ v1.0

